{"version":3,"sources":["pages/Explore/MuseDrawer/style.module.scss","components/Progress/style.module.scss","pages/User/style.module.scss","components/Menu/style.module.scss","components/Ring/style.module.scss","../external \"Swiper\"","pages/Explore/DrawerContainer/style.module.scss","pages/Explore/SleepDrawer/style.module.scss","pages/Explore/PlusDrawer/style.module.scss","pages/Explore/Sleep/style.module.scss","pages/Home/Focus/style.module.scss","pages/Home/Nap/style.module.scss","pages/Explore/Muse/style.module.scss","pages/Home/Sleep/style.module.scss","components/FinishDrawer/style.module.scss","pages/Home/Breathe/style.module.scss","components/TransitionSwitch/index.js","utils/index.js","store/music.js","store/mode.js","store/focus.js","constant/index.js","pages/Home/ImageTransition/index.js","store/timer.js","components/Menu/index.js","pages/Home/Action/index.js","constant/variants.js","pages/Home/index.js","components/Drawer/index.js","components/Ring/index.js","pages/Home/SoundDrawer/index.js","components/FinishDrawer/index.jsx","components/Progress/index.js","store/sleep.js","utils/userHooks.js","pages/Home/Sleep/index.js","store/nap.js","pages/Explore/SoundDrawer/index.jsx","store/muse.js","pages/Explore/MuseTypeList/index.jsx","pages/Explore/MuseDrawer/index.jsx","pages/Explore/SleepDrawer/index.jsx","pages/Explore/PlusDrawer/index.jsx","pages/Explore/DrawerContainer/index.jsx","pages/Explore/index.jsx","pages/User/index.jsx","pages/Explore/Sleep/index.jsx","pages/Explore/SoundDetail/index.jsx","routes/index.js","pages/Home/Focus/index.js","pages/Home/Nap/index.js","pages/Home/Breathe/index.js","components/ClockDrawer/index.jsx","pages/Explore/Muse/index.jsx","App.js","store/breathe.js","store/data.js","store/index.js","index.js","pages/Home/Action/style.module.scss","pages/Explore/SoundDrawer/style.module.scss","pages/Home/SoundDrawer/style.module.scss","pages/Explore/SoundDetail/style.module.scss","components/ClockDrawer/style.module.scss","pages/Explore/style.module.scss","pages/Home/ImageTransition/style.module.scss","pages/Explore/MuseTypeList/style.module.scss"],"names":["module","exports","Swiper","TransitionSwitch","props","path","renderOne","children","location","useLocation","Children","forEach","child","matchPath","pathname","initial","exitBeforeEnter","key","TransitionRedirect","to","div","exit","throttle","fn","delay","timer","args","persist","setTimeout","apply","formateTime","seconds","second","padStart","vibrate","time","navigator","calcCurrentTime","now","Date","String","getHours","getMinutes","CHANGE_VOLUME","Symbol","startMusic","payload","type","pauseMusic","changeMusic","playPauseMusic","init","active","canPlay","soundList","volume","localStorage","getItem","NAP","appMode","setFocusTime","setFocusCount","dispatch","getState","focusCount","focus","undefined","focusMode","focusTime","modeToText","FOCUS","SLEEP","BREATHE","modeToIcon","modeToColor","homeRouteList","icon","title","mode","focusModeList","color","intro","FocusModeToText","TIMER_MODE","EFFICIENT_MODE","INFINITE_MODE","FocusModeToIcon","tomatoSettings","imageFormat","w","h","React","memo","useDispatch","useSelector","music","useSprings","i","x","Math","min","MaxImage","window","innerWidth","sc","br","styles","update","changeImage","useCallback","nextIndex","mx","down","distance","max","bind","useDrag","value","start","end","movement","dx","direction","cancel","abs","nextSong","useEffect","className","style","image_transition","map","image","transform","borderRadius","src","cover_url","alt","mask","background","scene_masks","PLAY","FINISH","startTimer","target","startTime","Infinity","state","activeColor","restProps","activeStyle","opacity","menu","history","useHistory","changeRoute","item","push","fail","action","greet","hello","text","play","onClick","play_music","mode_list","pageTransition","animate","transition","when","clockTransition","y","ease","animateProps","fade","focus_fade_btn_left","focus_fade_btn_right","btnFade","routes","variants","renderRoutes","contentStyle","visible","close","ele","duration","ReactDOM","createPortal","document","body","rate","radius","strokeWidth","another","perimeter","useMemo","PI","width","height","cx","cy","r","stroke","fill","strokeDasharray","change","index","sound_drawer","sound_list","sound","sound_item","id","wrap","layoutId","music_bar","range","handleStyle","touchAction","border","trackStyle","backgroundColor","onChange","setItem","typeName","useState","shareOpen","setShareOpen","handleShareClose","toDay","month","getMonth","day","getDate","timeStep","prev","setMinutes","finish_drawer","backgroundImage","cover","header","card","card_icon","card_header","card_date","card_time","card_content","card_footer","card_footer_name","card_footer_value","share","share_btn","share_items","percent","progress","content","sleepTime","sleepClock","sleepClockDelay","usePress","setDown","setPercent","func","_","clearTimeout","useThrottle","sleep","soundOpen","setSoundOpen","clockTimeDelayOpen","setClockTimeDelayOpen","closeSoundDrawer","closeClockTimeDelayDrawer","diff","calcTime","hour","minute","currentTime","clock","select_time","date","getTime","locale","enUs","clock_close","current_time","p","pause","marginBottom","onTouchStart","onTouchEnd","onTouchCancel","tool_bar","container","name","borderTopLeftRadius","borderTopRightRadius","paddingBottom","focus_mode_title","Array","from","delay_time_item","icon_choice","entireMiute","setMilliseconds","setSeconds","setDate","napTime","napClock","napClockDelay","typeList","useMotionValue","scrollRef","useRef","soundType","setSoundType","handleScroll","e","current","scrollY","scrollTop","set","onScroll","ref","drawer","h2","page_info","navbar","setMuseVisible","setMuseActive","setMuseState","museVisible","museList","muse","list","alert","onPress","group","group_title","sub_title","padding","more","albums","album","base","DrawerMap","SoundDrawer","MuseDrawer","SleepDrawer","plus","Drawer","drawer_container","controls","useAnimation","drawerType","setDrawerType","navBoxData","toDateString","split","toUpperCase","swiper","length","grabCursor","observer","observeParents","autoplay","loop","destroy","museData","OpenDrawer","closeDrawer","explore","content_wrap","slice","banner_item","banner_text","nav_box","nav_box_item","sound_list_item","primary_color","sleep_box","sleep_list","sleep_list_item","infos","muse_list","muse_list_item","day_image_wrap","img_container","day_title","day_time","poetry","author","article_list","article","title_type","user","position","bottom","component","exact","Home","focusModeOpen","setFocusModeOpen","finishOpen","setFinishOpen","relax","lastSecond","data","label","timeStart","finishDrawerClose","soundDrawerClose","focusModeDrawerClose","select","cols","indicatorStyle","count_down","span","btn","btn_transparent","sidebar_item","drawerChange","mode_intro","Sleep","nap","clockTime","getSeconds","nap_circle","animationPlayState","audioRef","breatheCount","setBreatheCount","count","setCount","setPlay","setText","T","scale","breathe","ball","breathe_text","breathe_ball","stop","Explore","goBack","useParams","find","sound_detail","description","description_author","ExploreSleep","User","clock_drawer","circle","btn_default","soundActive","museActive","museAudioRef","setSecond","handleStartMuse","startMuse","handleEndMuse","setInterval","clearInterval","main","muse_name","duration_description","footer","sound_change","thumbnail","sections","demo_sound_url_mp3","muted","ReactDom","App","finishMusic","setFinishMusic","clockDrawerOpen","setClockDrawerOpen","finishAudioRef","Notification","permission","requestPermission","console","error","newSecond","log","audios","querySelectorAll","hackPlay","audio","addEventListener","once","closeClockDrawer","onError","onPause","demo_sound_url","breatheTime","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","rootReducer","combineReducers","store","createStore","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9058271a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__3fNhE\",\"drawer\":\"style_drawer__2nhFL\",\"flex_center\":\"style_flex_center__3iHfm\",\"absolute_center\":\"style_absolute_center__1nY78\",\"absolute_center_y\":\"style_absolute_center_y__CJX2F\",\"absolute_center_x\":\"style_absolute_center_x__1R9_5\",\"image_center\":\"style_image_center__B4k0A\",\"header\":\"style_header__2O93T\",\"page_info\":\"style_page_info__YK9Y5\",\"group\":\"style_group__1YcSB\",\"group_title\":\"style_group_title__27_-N\",\"wrap\":\"style_wrap__2fqI8\",\"title\":\"style_title__1DzWP\",\"more\":\"style_more__2ZxhC\",\"sub_title\":\"style_sub_title__2ublz\",\"albums\":\"style_albums__2Glq2\",\"album\":\"style_album__1s8Fe\",\"cover\":\"style_cover__Hfcet\",\"name\":\"style_name__87qQN\",\"duration\":\"style_duration__2hL8L\",\"base\":\"style_base__1qnIt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"style_progress__2TGXE\",\"content\":\"style_content__3EQVw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"style_user__2t0F4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"style_menu__2Jz6Y\",\"active\":\"style_active__26mrj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fill\":\"style_fill__3pLKN\"};","module.exports = Swiper;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__1FQIy\",\"drawer_container\":\"style_drawer_container__122LR\",\"flex_center\":\"style_flex_center__4Fhna\",\"absolute_center\":\"style_absolute_center__1IeXI\",\"absolute_center_y\":\"style_absolute_center_y__1V8oN\",\"absolute_center_x\":\"style_absolute_center_x__2tsdv\",\"image_center\":\"style_image_center__7tom2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__3XwCx\",\"drawer\":\"style_drawer__2dv0A\",\"flex_center\":\"style_flex_center__X5BNJ\",\"absolute_center\":\"style_absolute_center__1A5yt\",\"absolute_center_y\":\"style_absolute_center_y__2J8pT\",\"absolute_center_x\":\"style_absolute_center_x__37VK2\",\"image_center\":\"style_image_center__j4Z3c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__2iGgV\",\"drawer\":\"style_drawer__3-pAX\",\"flex_center\":\"style_flex_center__xNkM8\",\"absolute_center\":\"style_absolute_center__nMJPx\",\"absolute_center_y\":\"style_absolute_center_y__6Moab\",\"absolute_center_x\":\"style_absolute_center_x__3Sor0\",\"image_center\":\"style_image_center__3-eAx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__2RGq9\",\"sleep\":\"style_sleep__2NmLA\",\"flex_center\":\"style_flex_center__3tA6U\",\"absolute_center\":\"style_absolute_center__2TQmb\",\"absolute_center_y\":\"style_absolute_center_y__1K_AO\",\"absolute_center_x\":\"style_absolute_center_x__Ch65v\",\"image_center\":\"style_image_center__iC80G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__JmdXf\",\"focus\":\"style_focus__3cKFk\",\"flex_center\":\"style_flex_center__31mjJ\",\"header\":\"style_header__1FFzY\",\"clock\":\"style_clock__2v0Gp\",\"action\":\"style_action__12Xl1\",\"focus_mode_title\":\"style_focus_mode_title__ltZou\",\"tool_bar\":\"style_tool_bar__1mMHu\",\"sidebar_item\":\"style_sidebar_item__BMEFp\",\"absolute_center\":\"style_absolute_center__1KjLy\",\"absolute_center_y\":\"style_absolute_center_y__2zuo4\",\"minute\":\"style_minute__3SiPb\",\"absolute_center_x\":\"style_absolute_center_x__3u_3J\",\"image_center\":\"style_image_center__3yWrd\",\"relax\":\"style_relax__3G9rD\",\"select_time\":\"style_select_time__6bMoF\",\"count_down\":\"style_count_down__3T39r\",\"btn\":\"style_btn__p7_HU\",\"btn_transparent\":\"style_btn_transparent__313Tv\",\"wrap\":\"style_wrap__3PgOX\",\"mode\":\"style_mode__3VsoC\",\"icon_choice\":\"style_icon_choice__b8f8s\",\"mode_intro\":\"style_mode_intro__1_OEr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__2jCmq\",\"focus\":\"style_focus__WlzD4\",\"sleep\":\"style_sleep__3XP6E\",\"nap\":\"style_nap__b_RAv\",\"flex_center\":\"style_flex_center__3nseo\",\"header\":\"style_header__1Gryc\",\"clock\":\"style_clock__2V0Hu\",\"action\":\"style_action__1lrnQ\",\"focus_mode_title\":\"style_focus_mode_title__2Eddm\",\"tool_bar\":\"style_tool_bar__1Gywj\",\"sidebar_item\":\"style_sidebar_item__1cDog\",\"pause\":\"style_pause__2GkBo\",\"wrap\":\"style_wrap__1CLC0\",\"delay_time_item\":\"style_delay_time_item__3voiy\",\"absolute_center\":\"style_absolute_center__2FI17\",\"absolute_center_y\":\"style_absolute_center_y__2P9Cz\",\"minute\":\"style_minute__2wBc1\",\"select_time\":\"style_select_time__2No4c\",\"absolute_center_x\":\"style_absolute_center_x__3If6o\",\"clock_time\":\"style_clock_time__1v4n3\",\"image_center\":\"style_image_center__3RgQF\",\"relax\":\"style_relax__2xbGB\",\"count_down\":\"style_count_down__3_RcO\",\"btn\":\"style_btn__3YWFT\",\"btn_transparent\":\"style_btn_transparent__1m6gF\",\"mode\":\"style_mode__14_eo\",\"icon_choice\":\"style_icon_choice__1ZS-n\",\"mode_intro\":\"style_mode_intro__d2lGN\",\"time\":\"style_time__14Ql7\",\"current_time\":\"style_current_time__cDLWS\",\"clock_close\":\"style_clock_close__l8YHj\",\"container\":\"style_container__2_Woc\",\"nap_circle\":\"style_nap_circle__MbFJT\",\"scaleInfinity\":\"style_scaleInfinity__W2oTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__2N8Qk\",\"muse\":\"style_muse__2QCEi\",\"flex_center\":\"style_flex_center__6x3z4\",\"header\":\"style_header__1Gljb\",\"main\":\"style_main__1var3\",\"muse_name\":\"style_muse_name__wrVBR\",\"select\":\"style_select__1RWdm\",\"action\":\"style_action__2nox6\",\"icon\":\"style_icon__2Bfl5\",\"footer\":\"style_footer__2idav\",\"sound_change\":\"style_sound_change__VMX2B\",\"thumbnail\":\"style_thumbnail__38Pvb\",\"absolute_center\":\"style_absolute_center__1PABm\",\"absolute_center_y\":\"style_absolute_center_y__3xv1X\",\"absolute_center_x\":\"style_absolute_center_x__2zJKn\",\"image_center\":\"style_image_center__239kC\",\"pause\":\"style_pause__298Bq\",\"play\":\"style_play__2Cqdc\",\"group\":\"style_group__vSkxF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__qIBNv\",\"focus\":\"style_focus__1kUUE\",\"sleep\":\"style_sleep__2r-Xh\",\"flex_center\":\"style_flex_center__d73ZW\",\"header\":\"style_header__2MW6O\",\"clock\":\"style_clock__2eGRM\",\"action\":\"style_action__3Q1VQ\",\"focus_mode_title\":\"style_focus_mode_title__2usSV\",\"tool_bar\":\"style_tool_bar__ZBivt\",\"sidebar_item\":\"style_sidebar_item__2uMMr\",\"pause\":\"style_pause__1PhSM\",\"wrap\":\"style_wrap__17cRf\",\"delay_time_item\":\"style_delay_time_item__3bH_c\",\"absolute_center\":\"style_absolute_center__pYjPN\",\"absolute_center_y\":\"style_absolute_center_y__1rQ52\",\"minute\":\"style_minute__A7AI_\",\"absolute_center_x\":\"style_absolute_center_x__3ecWd\",\"image_center\":\"style_image_center__32qGZ\",\"relax\":\"style_relax__cjeeJ\",\"select_time\":\"style_select_time__1r4tV\",\"count_down\":\"style_count_down__1uGS_\",\"btn\":\"style_btn__T6RBN\",\"btn_transparent\":\"style_btn_transparent__375HH\",\"mode\":\"style_mode__3u-a5\",\"icon_choice\":\"style_icon_choice__-_uzh\",\"mode_intro\":\"style_mode_intro__1h_8D\",\"time\":\"style_time__2Yqmh\",\"current_time\":\"style_current_time__1irrq\",\"clock_close\":\"style_clock_close__1LL-u\",\"container\":\"style_container__AkfMt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__2QTYb\",\"finish_drawer\":\"style_finish_drawer__1V66a\",\"blur_mask\":\"style_blur_mask__3h6xv\",\"flex_center\":\"style_flex_center__IDPcx\",\"card_content\":\"style_card_content__2a8Th\",\"share\":\"style_share__E_N9B\",\"share_items\":\"style_share_items__gQlAh\",\"absolute_center\":\"style_absolute_center__3xusZ\",\"absolute_center_y\":\"style_absolute_center_y__2AiY7\",\"absolute_center_x\":\"style_absolute_center_x__1JYh7\",\"image_center\":\"style_image_center__1Guil\",\"header\":\"style_header__3vO-M\",\"greet\":\"style_greet__3_p0N\",\"card\":\"style_card__2bZed\",\"card_icon\":\"style_card_icon__3sOfq\",\"card_header\":\"style_card_header__1dW0G\",\"card_date\":\"style_card_date__1n10d\",\"card_time\":\"style_card_time__1LyPg\",\"card_footer\":\"style_card_footer__2D4Nl\",\"card_footer_name\":\"style_card_footer_name__mXpkl\",\"card_footer_value\":\"style_card_footer_value__1n1OZ\",\"share_btn\":\"style_share_btn__3sk0q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__151s1\",\"focus\":\"style_focus__2ld06\",\"breathe\":\"style_breathe__p3m6K\",\"flex_center\":\"style_flex_center__3eTl1\",\"header\":\"style_header__1kY12\",\"clock\":\"style_clock__Emi7c\",\"action\":\"style_action__3TS5M\",\"focus_mode_title\":\"style_focus_mode_title__1jfnj\",\"tool_bar\":\"style_tool_bar__3o8-s\",\"sidebar_item\":\"style_sidebar_item__7cCDE\",\"absolute_center\":\"style_absolute_center__8H5VH\",\"absolute_center_y\":\"style_absolute_center_y__2q1HK\",\"minute\":\"style_minute__3j4WG\",\"absolute_center_x\":\"style_absolute_center_x__3N60R\",\"image_center\":\"style_image_center__1plVE\",\"relax\":\"style_relax__2eCFo\",\"select_time\":\"style_select_time__1LfOk\",\"count_down\":\"style_count_down__2M398\",\"btn\":\"style_btn__1XwyD\",\"btn_transparent\":\"style_btn_transparent__sO9Ex\",\"wrap\":\"style_wrap__1ANc_\",\"mode\":\"style_mode__1mEUj\",\"icon_choice\":\"style_icon_choice__2CsIb\",\"mode_intro\":\"style_mode_intro__2ZgZM\",\"ball\":\"style_ball__1Jhdu\",\"ani\":\"style_ani__2BVir\",\"breathe_text\":\"style_breathe_text__1-9YF\",\"breathe_ball\":\"style_breathe_ball__1va5g\"};","import React, { Children } from \"react\";\r\nimport { useLocation, Switch, matchPath, Redirect } from \"react-router-dom\";\r\n\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nfunction TransitionSwitch(props) {\r\n  const { renderOne = true, children } = props;\r\n  const location = useLocation();\r\n  let path;\r\n  Children.forEach(children, (child) => {\r\n    if (matchPath(location.pathname, child.props.path)) {\r\n      path = child.props.path;\r\n    }\r\n  });\r\n  return (\r\n    <AnimatePresence initial={false} exitBeforeEnter={renderOne}>\r\n      <Switch key={path} location={location}>\r\n        {children}\r\n      </Switch>\r\n    </AnimatePresence>\r\n  );\r\n}\r\nexport default TransitionSwitch;\r\n\r\nexport function TransitionRedirect(props) {\r\n  const { to } = props;\r\n  return (\r\n    <motion.div exit>\r\n      <Redirect to={to} />\r\n    </motion.div>\r\n  );\r\n}\r\n","export function throttle(fn, delay = 200) {\r\n  let timer = null;\r\n  return function (...args) {\r\n    if (timer) return;\r\n    try {\r\n      args[0].persist();\r\n    } catch {}\r\n    timer = setTimeout(() => {\r\n      fn.apply(this, args);\r\n      timer = null;\r\n    }, delay);\r\n  };\r\n}\r\nexport function debounce(fn, delay = 200) {\r\n  let timer = null;\r\n  return function (...args) {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      fn.apply(this, args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\nexport function range(value, start, end) {\r\n  if (value <= start) {\r\n    return start;\r\n  } else if (value >= end) {\r\n    return end;\r\n  } else {\r\n    return value;\r\n  }\r\n}\r\n\r\nexport function formateTime(seconds) {\r\n  const minute = ~~(seconds / 60) + \"\";\r\n  const second = (seconds % 60) + \"\";\r\n  return `${minute.padStart(2, \"0\")}:${second.padStart(2, \"0\")}`;\r\n}\r\n\r\nexport function vibrate(time = 100) {\r\n  if (\"vibrate\" in navigator) {\r\n    navigator.vibrate(time);\r\n  }\r\n}\r\nexport function calcCurrentTime() {\r\n  const now = new Date();\r\n  const hour = String(now.getHours()).padStart(2, \"0\");\r\n  const minute = String(now.getMinutes()).padStart(2, \"0\");\r\n  return [hour, minute];\r\n}\r\n","//type\r\nexport const START_MUSIC = \"START_MUSIC\";\r\nexport const PAUSE_MUSIC = \"PAUSE_MUSIC\";\r\nexport const PLAY_PAUSE_MUSIC = \"PLAY_PAUSE_MUSIC\";\r\nexport const SET_SOUND_LIST = \"SET_SOUND_LIST\";\r\nexport const CHANGE_MUSIC = \"CHANGE_MUSIC\";\r\nexport const CHANGE_VOLUME = Symbol();\r\n\r\n//action\r\nexport const startMusic = (payload) => {\r\n  return {\r\n    type: START_MUSIC,\r\n    payload,\r\n  };\r\n};\r\nexport const pauseMusic = (payload) => {\r\n  return {\r\n    type: PAUSE_MUSIC,\r\n    payload,\r\n  };\r\n};\r\nexport const changeMusic = (payload) => {\r\n  return {\r\n    type: CHANGE_MUSIC,\r\n    payload,\r\n  };\r\n};\r\nexport const playPauseMusic = (payload) => {\r\n  return {\r\n    type: PLAY_PAUSE_MUSIC,\r\n    payload,\r\n  };\r\n};\r\nexport const setSoundList = (payload) => {\r\n  return {\r\n    type: SET_SOUND_LIST,\r\n    payload,\r\n  };\r\n};\r\nexport const changeVolume = (payload) => {\r\n  localStorage.setItem(\"volume\", payload);\r\n  return {\r\n    type: CHANGE_VOLUME,\r\n    payload,\r\n  };\r\n};\r\nconst init = {\r\n  active: 0,\r\n  canPlay: false,\r\n  soundList: [],\r\n  volume: localStorage.getItem(\"volume\") ? localStorage.getItem(\"volume\") : 1,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case START_MUSIC:\r\n      return { ...state, canPlay: true };\r\n    case PAUSE_MUSIC:\r\n      return { ...state, canPlay: false };\r\n    case PLAY_PAUSE_MUSIC:\r\n      return { ...state, canPlay: !state.canPlay };\r\n    case SET_SOUND_LIST:\r\n      return { ...state, soundList: payload };\r\n    case CHANGE_MUSIC:\r\n      return { ...state, active: payload };\r\n    case CHANGE_VOLUME:\r\n      return { ...state, volume: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const FOCUS = \"FOCUS\"; //专注\r\nexport const SLEEP = \"SLEEP\"; //睡眠\r\nexport const NAP = \"NAP\"; //小憩\r\nexport const BREATHE = \"BREATHE\"; //呼吸\r\nexport const MUSE = \"MUSE\"; //冥想\r\n\r\nexport const SET_APP_MODE = \"SET_APP_MODE\";\r\n\r\nexport const setAppMode = (payload) => {\r\n  return {\r\n    type: SET_APP_MODE,\r\n    payload,\r\n  };\r\n};\r\nconst init = {\r\n  appMode: null,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_APP_MODE:\r\n      return { appMode: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","//mode\r\nexport const TIMER_MODE = \"TIMER_MODE\"; //倒计时模式\r\nexport const EFFICIENT_MODE = \"EFFICIENT_MODE\"; //番茄工作法\r\nexport const INFINITE_MODE = \"INFINITE_MODE\"; //正向计时\r\n\r\n//type\r\nexport const SET_FOCUS_MODE = \"SET_FOCUS_MODE\";\r\nexport const SET_FOCUS_TIME = \"SET_FOCUS_TIME\";\r\nexport const SET_FOCUS_COUNT = \"SET_FOCUS_COUNT\";\r\n\r\n//action\r\nexport const setFocusMode = (payload) => {\r\n  return (dispatch) => {\r\n    dispatch({ type: SET_FOCUS_MODE, payload });\r\n    dispatch({ type: SET_FOCUS_COUNT, payload: 1 });\r\n  };\r\n};\r\nexport const setFocusTime = (payload) => {\r\n  return {\r\n    type: SET_FOCUS_TIME,\r\n    payload,\r\n  };\r\n};\r\nexport const setFocusCount = (payload) => {\r\n  return (dispatch, getState) => {\r\n    const {\r\n      focus: { focusCount },\r\n    } = getState();\r\n    dispatch({\r\n      type: SET_FOCUS_COUNT,\r\n      payload: payload === undefined ? focusCount + 1 : payload,\r\n    });\r\n  };\r\n};\r\nconst init = {\r\n  focusMode: TIMER_MODE,\r\n  focusTime: 0,\r\n  focusCount: 1,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_FOCUS_MODE:\r\n      return { ...state, focusMode: payload };\r\n    case SET_FOCUS_TIME:\r\n      return { ...state, focusTime: payload };\r\n    case SET_FOCUS_COUNT:\r\n      return { ...state, focusCount: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FOCUS, SLEEP, BREATHE, NAP } from \"../store/mode\";\r\nimport { TIMER_MODE, EFFICIENT_MODE, INFINITE_MODE } from \"../store/focus\";\r\n\r\nexport const showFinishPageMinTime = 300;\r\nexport const modeToText = {\r\n  FOCUS: \"专注\",\r\n  SLEEP: \"睡眠\",\r\n  NAP: \"小憩\",\r\n  BREATHE: \"呼吸\",\r\n};\r\nexport const modeToIcon = {\r\n  FOCUS: \"focus\",\r\n  SLEEP: \"sleep\",\r\n  NAP: \"nap\",\r\n  BREATHE: \"breathe\",\r\n};\r\nexport const modeToColor = {\r\n  FOCUS: \"#3498db\",\r\n  SLEEP: \"#f1c40f\",\r\n  NAP: \"#c0392b\",\r\n  BREATHE: \"#27ae60\",\r\n};\r\nexport const homeRouteList = [\r\n  {\r\n    path: \"/home/focus\",\r\n    icon: modeToIcon.FOCUS,\r\n    title: \"专注\",\r\n    mode: FOCUS,\r\n  },\r\n  {\r\n    path: \"/home/sleep\",\r\n    icon: modeToIcon.SLEEP,\r\n    title: \"睡眠\",\r\n    mode: SLEEP,\r\n  },\r\n  {\r\n    path: \"/home/nap\",\r\n    icon: modeToIcon.NAP,\r\n    title: \"小憩\",\r\n    mode: NAP,\r\n  },\r\n  {\r\n    path: \"/home/breathe\",\r\n    icon: modeToIcon.BREATHE,\r\n    title: \"呼吸\",\r\n    mode: BREATHE,\r\n  },\r\n];\r\nexport const focusModeList = [\r\n  {\r\n    icon: \"clock\",\r\n    title: \"计时模式\",\r\n    mode: TIMER_MODE,\r\n    color: \"#e74c3c\",\r\n    intro: \"设定目标, 保持专注\",\r\n  },\r\n  {\r\n    icon: \"tomato\",\r\n    title: \"高效模式\",\r\n    mode: EFFICIENT_MODE,\r\n    color: \"#27ae60\",\r\n    intro: \"基于番茄工作法,劳逸结合、提升效率\",\r\n  },\r\n  {\r\n    icon: \"infinite\",\r\n    title: \"无限模式\",\r\n    mode: INFINITE_MODE,\r\n    color: \"#2980b9\",\r\n    intro: \"正向计时,随用随记\",\r\n  },\r\n];\r\nexport const FocusModeToText = {\r\n  TIMER_MODE: \"计时模式\",\r\n  EFFICIENT_MODE: \"高效模式\",\r\n  INFINITE_MODE: \"无限模式\",\r\n};\r\nexport const FocusModeToIcon = {\r\n  TIMER_MODE: \"clock\",\r\n  EFFICIENT_MODE: \"tomato\",\r\n  INFINITE_MODE: \"infinite\",\r\n};\r\n\r\n//番茄模式\r\nexport const tomatoSettings = {\r\n  FocusTime: 25 * 60,\r\n  ShortRelax: 5 * 60,\r\n  LongRelax: 15 * 60,\r\n  // FocusTime: 3,\r\n  // ShortRelax: 3,\r\n  // LongRelax: 6,\r\n};\r\n\r\nexport const EXPLORE_PATH = \"/explore\";\r\n\r\nexport const imageFormat = (w, h) =>\r\n  `?imageMogr2/thumbnail/!${w}x${h}r|imageView2/2/format/webp`;\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { useDrag } from \"react-use-gesture\";\r\nimport { useSprings, animated, to } from \"react-spring\";\r\nimport { range } from \"utils\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { changeMusic } from \"../../../store/music\";\r\nimport { imageFormat } from \"../../../constant\";\r\n//切换背景特效\r\nconst ImageTransition = (props) => {\r\n  //7张图片\r\n  const dispatch = useDispatch();\r\n  const { active, soundList } = useSelector(({ music }) => music);\r\n  const MaxImage = 10;\r\n  const [styles, update] = useSprings(MaxImage, (i) => ({\r\n    x: (i - Math.min(MaxImage - 1, active)) * window.innerWidth,\r\n    sc: 1,\r\n    br: 0,\r\n  }));\r\n  const changeImage = useCallback(\r\n    (nextIndex, mx = 0, down = false, distance = 0) => {\r\n      update((i) => {\r\n        const x = (i - nextIndex) * window.innerWidth + (down ? mx : 0);\r\n        const sc = down ? 1 - distance / window.innerWidth / 3 : 1;\r\n        const br = down ? (distance / window.innerWidth) * 8 : 0;\r\n        return { x, sc: Math.max(sc, 0.94), br: Math.min(br, 1.4) };\r\n      });\r\n    },\r\n    [update]\r\n  );\r\n  const bind = useDrag(({ down, movement: [mx], direction: [dx], cancel }) => {\r\n    //dx>0向右\r\n    const distance = Math.abs(mx);\r\n    let nextSong = active;\r\n    if (down && distance * 2 > window.innerWidth) {\r\n      nextSong = range(active + (dx > 0 ? -1 : 1), 0, MaxImage - 1);\r\n      dispatch(changeMusic(nextSong));\r\n      cancel();\r\n    }\r\n    changeImage(nextSong, mx, down, distance);\r\n  });\r\n  useEffect(() => {\r\n    if (active < MaxImage) changeImage(active);\r\n  }, [active, changeImage]);\r\n  return (\r\n    <div {...bind()}>\r\n      <div className={style.image_transition}>\r\n        {styles.map(({ x, sc, br }, i) => (\r\n          <animated.div\r\n            className={style.image}\r\n            key={i}\r\n            style={{\r\n              transform: to(\r\n                [x, sc],\r\n                (x, sc) => `translateX(${x}px) scale(${sc})`\r\n              ),\r\n              borderRadius: br.to((br) => `${br}rem`),\r\n            }}\r\n          >\r\n            <img\r\n              src={`${soundList[i]?.cover_url}${imageFormat(800, 800)}`}\r\n              alt={soundList[i]?.[\"name\"]?.[\"zh-Hans\"]}\r\n            />\r\n            <div\r\n              className={style.mask}\r\n              style={{\r\n                background: `linear-gradient(rgba(${soundList[i]?.scene_masks?.[0]}), rgba(${soundList[i]?.scene_masks?.[1]}))`,\r\n              }}\r\n            ></div>\r\n          </animated.div>\r\n        ))}\r\n      </div>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(ImageTransition);\r\n","import { SET_APP_MODE } from \"./mode\";\r\nimport { START_MUSIC, PAUSE_MUSIC } from \"./music\";\r\n\r\n//state 定时器的状态\r\nexport const PAUSE = \"PAUSE\";\r\nexport const PLAY = \"PLAY\";\r\nexport const FINISH = \"FINISH\";\r\n\r\n//type\r\n\r\nexport const START_TIMER = \"START_TIMER\";\r\nexport const PAUSE_TIMER = \"PAUSE_TIMER\";\r\nexport const FINISH_TIMER = \"FINISH_TIMER\";\r\nexport const TICK = \"TICK\";\r\nexport const SET_TARGET = \"SET_TARGET\";\r\n\r\n//action\r\n//开始计时\r\n/**\r\n *\r\n * @param {{target, second=0}} payload\r\n */\r\nexport const startTimer = ({ target, mode }) => {\r\n  return (dispatch, getState) => {\r\n    const {\r\n      timer: { second },\r\n    } = getState();\r\n    window.startTime = Date.now() - second * 1000;\r\n    dispatch({ type: START_TIMER, payload: target }); //设置定时器\r\n    dispatch({ type: SET_APP_MODE, payload: mode }); //设置应用模式\r\n    dispatch({ type: START_MUSIC }); //开始音乐\r\n  };\r\n};\r\nexport const pauseTimer = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: PAUSE_TIMER });\r\n    dispatch({ type: PAUSE_MUSIC });\r\n  };\r\n};\r\nexport const finishTimer = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: FINISH_TIMER });\r\n    dispatch({ type: PAUSE_MUSIC });\r\n  };\r\n};\r\nexport const tick = () => {\r\n  return (dispatch) => {\r\n    const now = Date.now();\r\n    const newSecond = ~~((now - window.startTime) / 1000);\r\n    console.log(newSecond);\r\n    dispatch({ type: TICK, payload: newSecond, startTime: now });\r\n  };\r\n};\r\nconst init = {\r\n  second: 0, //走过的秒数\r\n  target: Infinity, //目标时间\r\n  state: FINISH,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case START_TIMER:\r\n      return { ...state, target: payload, state: PLAY };\r\n    case PAUSE_TIMER:\r\n      return { ...state, state: PAUSE };\r\n    case FINISH_TIMER:\r\n      return {\r\n        ...state,\r\n        second: 0,\r\n        target: Infinity,\r\n        state: FINISH,\r\n      };\r\n    case TICK:\r\n      return { ...state, second: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nfunction Menu(props) {\r\n  const { activeColor = \"#000\", ...restProps } = props;\r\n  const activeStyle = { color: activeColor, opacity: 1 };\r\n  return (\r\n    <motion.div className={style.menu} {...restProps}>\r\n      <NavLink to=\"/home\" activeStyle={activeStyle}>\r\n        <i className=\"iconfont icon-home\"></i>\r\n      </NavLink>\r\n      <NavLink to=\"/explore\" activeStyle={activeStyle}>\r\n        <i className=\"iconfont icon-compass\"></i>\r\n      </NavLink>\r\n      <NavLink to=\"/user\" activeStyle={activeStyle}>\r\n        <i className=\"iconfont icon-user\"></i>\r\n      </NavLink>\r\n    </motion.div>\r\n  );\r\n}\r\nexport default memo(Menu);\r\n","import React, { useCallback, memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { playPauseMusic } from \"../../../store/music\";\r\nimport { Toast } from \"antd-mobile\";\r\nimport { homeRouteList, modeToText } from \"../../../constant\";\r\nimport { FINISH } from \"../../../store/timer\";\r\nimport Menu from \"../../../components/Menu\";\r\nfunction Action(props) {\r\n  const { canPlay } = useSelector(({ music }) => music);\r\n  const { appMode } = useSelector(({ mode }) => mode);\r\n  const { state } = useSelector(({ timer }) => timer);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const handlePaly = () => {\r\n    dispatch(playPauseMusic());\r\n  };\r\n  const changeRoute = useCallback(\r\n    (item) => {\r\n      if (appMode === item.mode || state === FINISH) history.push(item.path);\r\n      else Toast.fail(`正在${modeToText[appMode]}中`, 1, null, false);\r\n    },\r\n    [history, appMode, state]\r\n  );\r\n  return (\r\n    <motion.div className={style.action}>\r\n      <div className={style.greet}>\r\n        <h2 className={style.hello}>上午好</h2>\r\n        <p className={style.text}>当时明月在, 曾照彩云归</p>\r\n      </div>\r\n      <div className={style.play} onClick={handlePaly}>\r\n        <i\r\n          className={`iconfont icon-play ${\r\n            canPlay ? style.play_music : undefined\r\n          }`}\r\n        ></i>\r\n      </div>\r\n      <div className={style.mode_list}>\r\n        {homeRouteList.map((item) => (\r\n          <div key={item.path} onClick={() => changeRoute(item)}>\r\n            <i\r\n              className={`iconfont icon-${item.icon} ${\r\n                appMode === item.mode && state !== FINISH && style.active\r\n              }`}\r\n            ></i>\r\n            <p>{item.title}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <Menu activeColor=\"#fff\" />\r\n    </motion.div>\r\n  );\r\n}\r\nexport default memo(Action);\r\n","export const pageTransition = {\r\n  initial: {\r\n    opacity: 0,\r\n  },\r\n  animate: {\r\n    opacity: 1,\r\n    transition: {\r\n      when: \"beforeChildren\",\r\n    },\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n    transition: {\r\n      when: \"afterChildren\",\r\n    },\r\n  },\r\n};\r\nexport const clockTransition = {\r\n  initial: { y: 20, opacity: 0 },\r\n  animate: {\r\n    y: 0,\r\n    opacity: 1,\r\n    transition: { ease: \"easeInOut\" },\r\n  },\r\n  exit: {\r\n    y: 20,\r\n    opacity: 0,\r\n    transition: { ease: \"easeInOut\" },\r\n  },\r\n};\r\nexport const animateProps = {\r\n  initial: \"initial\",\r\n  animate: \"animate\",\r\n  exit: \"exit\",\r\n};\r\nexport const fade = {\r\n  initial: { opacity: 0 },\r\n  animate: { opacity: 1 },\r\n  exit: { opacity: 0 },\r\n};\r\n\r\n//动画\r\n\r\nexport const focus_fade_btn_left = {\r\n  initial: { opacity: 0, x: 50 },\r\n  animate: { opacity: 1, x: 0 },\r\n  exit: { opacity: 0, x: 50 },\r\n  transition: { ease: \"easeInOut\" },\r\n};\r\nexport const focus_fade_btn_right = {\r\n  initial: { opacity: 0, x: -50 },\r\n  animate: { opacity: 1, x: 0 },\r\n  exit: { opacity: 0, x: -50 },\r\n  transition: { ease: \"easeInOut\" },\r\n};\r\n\r\nexport const btnFade = {\r\n  initial: { y: 20, opacity: 0 },\r\n  animate: { y: 0, opacity: 1 },\r\n  exit: { y: 20, opacity: 0 },\r\n};\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport TransitionSwitch from \"components/TransitionSwitch\";\r\nimport ImageTransition from \"./ImageTransition\";\r\nimport Action from \"./Action\";\r\n\r\nimport { renderRoutes } from \"../../routes\";\r\nimport { pageTransition, animateProps } from \"../../constant/variants\";\r\n\r\n//切换背景特效\r\nconst Home = (props) => {\r\n  const { routes } = props;\r\n  return (\r\n    <motion.div {...animateProps} variants={pageTransition}>\r\n      <ImageTransition>\r\n        <Action />\r\n      </ImageTransition>\r\n      <TransitionSwitch renderOne={false}>\r\n        {renderRoutes(routes)}\r\n      </TransitionSwitch>\r\n    </motion.div>\r\n  );\r\n};\r\nexport default React.memo(Home);\r\n","import React, { memo } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport \"./style.scss\";\r\nfunction Drawer(props) {\r\n  const { children, title, contentStyle = {}, visible, close } = props;\r\n\r\n  const ele = (\r\n    <div className={`drawer ${visible && \"drawer-open\"}`}>\r\n      <div className=\"drawer_mask\" onClick={close}></div>\r\n      <motion.div\r\n        initial={{ y: \"100%\" }}\r\n        animate={{\r\n          y: visible ? 0 : \"100%\",\r\n        }}\r\n        transition={{ duration: 0.4, ease: \"easeInOut\" }}\r\n        className=\"drawer_content\"\r\n        style={contentStyle}\r\n      >\r\n        <div className=\"drawer_title\">{title}</div>\r\n        <div className=\"drawer_body\">{children}</div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(ele, document.body);\r\n}\r\nexport default memo(Drawer);\r\n","import React from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { useMemo } from \"react\";\r\nfunction Ring(props) {\r\n  const { rate, radius, color, strokeWidth = 4, ...another } = props;\r\n  const perimeter = useMemo(() => (Math.PI * 2 * (radius - strokeWidth)) | 0, [\r\n    radius,\r\n    strokeWidth,\r\n  ]);\r\n  return (\r\n    <svg\r\n      width={radius * 2}\r\n      height={radius * 2}\r\n      {...another}\r\n    >\r\n      <circle\r\n        cx={radius}\r\n        cy={radius}\r\n        r={radius - strokeWidth}\r\n        strokeWidth={strokeWidth}\r\n        stroke=\"rgba(255, 255, 255, 0.3)\"\r\n        fill=\"none\"\r\n      ></circle>\r\n      {/* <!-- 需要显示的圆环  通过修改 stroke-dasharray=\"0 1069\"的0值那块，(角度/360) = 圆弧长度/周长  这里的圆弧长度就是第一个值--> */}\r\n      <circle\r\n        className={style.fill}\r\n        cx={radius}\r\n        cy={radius}\r\n        r={radius - strokeWidth}\r\n        strokeWidth=\"4\"\r\n        stroke={color}\r\n        fill=\"none\"\r\n        strokeDasharray={`${perimeter * rate} ${perimeter}`}\r\n      ></circle>\r\n    </svg>\r\n  );\r\n}\r\nexport default React.memo(Ring);\r\n","import React, { useCallback, memo } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport style from \"./style.module.scss\";\r\nimport {\r\n  motion,\r\n  AnimateSharedLayout,\r\n  AnimatePresence,\r\n} from \"framer-motion/dist/framer-motion\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  changeMusic,\r\n  startMusic,\r\n  changeVolume,\r\n  playPauseMusic,\r\n} from \"../../../store/music\";\r\nimport { Slider } from \"antd-mobile\";\r\nimport { imageFormat } from \"../../../constant\";\r\nfunction SoundDrawer(props) {\r\n  const { visible, close } = props;\r\n  const dispatch = useDispatch();\r\n  const { active, volume, canPlay, soundList } = useSelector(\r\n    ({ music }) => music\r\n  );\r\n\r\n  const handlePlayMusic = () => {\r\n    dispatch(playPauseMusic());\r\n  };\r\n  const change = useCallback(\r\n    (index) => {\r\n      dispatch(changeMusic(index));\r\n      dispatch(startMusic());\r\n    },\r\n    [dispatch]\r\n  );\r\n  const ele = (\r\n    <AnimatePresence initial={false} exitBeforeEnter>\r\n      {visible && (\r\n        <motion.div\r\n          className={style.sound_drawer}\r\n          initial={{ y: 50, opacity: 0 }}\r\n          animate={{ y: 0, opacity: 1 }}\r\n          exit={{ y: 50, opacity: 0 }}\r\n          transition={{ duration: 0.4 }}\r\n        >\r\n          <header>\r\n            <i className=\"iconfont icon-close\" onClick={close}></i>\r\n            <p>声音场景</p>\r\n          </header>\r\n          <div className={style.sound_list}>\r\n            <AnimateSharedLayout type=\"crossfade\">\r\n              {soundList.map((sound, i) => {\r\n                return (\r\n                  <div className={style.sound_item} key={sound.id}>\r\n                    <div className={style.wrap} onClick={() => change(i)}>\r\n                      <img\r\n                        src={`${sound.cover_url}${imageFormat(180, 180)}`}\r\n                        alt={sound?.[\"name\"]?.[\"zh-Hans\"]}\r\n                      />\r\n                      <AnimatePresence>\r\n                        {i === active && (\r\n                          <motion.i\r\n                            layoutId=\"icon\"\r\n                            className=\"iconfont icon-sound\"\r\n                          ></motion.i>\r\n                        )}\r\n                      </AnimatePresence>\r\n                    </div>\r\n                    <p className={style.title}>\r\n                      {sound?.[\"name\"]?.[\"zh-Hans\"]}\r\n                    </p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </AnimateSharedLayout>\r\n          </div>\r\n          <div className={style.music_bar}>\r\n            <motion.i\r\n              className={`iconfont icon-${canPlay ? \"pause\" : \"play\"}`}\r\n              onClick={handlePlayMusic}\r\n            ></motion.i>\r\n            <div className={style.range}>\r\n              <Slider\r\n                value={volume * 100}\r\n                handleStyle={{ touchAction: \"none\", border: \"2px solid #ccc\" }}\r\n                trackStyle={{ backgroundColor: \"#2c3e50\" }}\r\n                onChange={(volume) => dispatch(changeVolume(volume / 100))}\r\n              />\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n  return ReactDOM.createPortal(ele, document.body);\r\n}\r\nexport default memo(SoundDrawer);\r\n","import React, { memo, useState, useMemo } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { modeToText, modeToIcon, modeToColor } from \"../../constant\";\r\nfunction FinishDrawer(props) {\r\n  const { visible, close, type, duration, typeName, ...restProps } = props;\r\n  const { active, soundList } = useSelector(({ music }) => music);\r\n  const sound = soundList[active] || {};\r\n  const [shareOpen, setShareOpen] = useState(false);\r\n  const handleShareOpen = () => {\r\n    setShareOpen(true);\r\n  };\r\n  const handleShareClose = () => {\r\n    setShareOpen(false);\r\n  };\r\n  const toDay = useMemo(() => {\r\n    const now = new Date();\r\n    return { month: now.getMonth() + 1, day: now.getDate() };\r\n  }, []);\r\n  const timeStep = useMemo(() => {\r\n    const now = new Date();\r\n    const prev = new Date();\r\n    prev.setMinutes(prev.getMinutes() - duration);\r\n    return {\r\n      start: `${String(prev.getHours()).padStart(2, \"0\")}:${String(\r\n        prev.getMinutes()\r\n      ).padStart(2, \"0\")}`,\r\n      end: `${String(now.getHours()).padStart(2, \"0\")}:${String(\r\n        now.getMinutes()\r\n      ).padStart(2, \"0\")}`,\r\n    };\r\n  }, [duration]);\r\n  const ele = (\r\n    <AnimatePresence initial={false} exitBeforeEnter>\r\n      {visible && (\r\n        <motion.div\r\n          initial={{\r\n            y: 100,\r\n            opacity: 0,\r\n          }}\r\n          animate={{\r\n            y: 0,\r\n            opacity: 1,\r\n          }}\r\n          exit={{\r\n            y: 100,\r\n            opacity: 0,\r\n          }}\r\n          transition={{ ease: \"easeInOut\" }}\r\n          className={style.finish_drawer}\r\n          style={{ backgroundImage: `url(${sound.cover})` }}\r\n          {...restProps}\r\n        >\r\n          <div className={style.header}>\r\n            <i\r\n              className={`iconfont icon-close ${style.icon}`}\r\n              onClick={close}\r\n            ></i>\r\n          </div>\r\n\r\n          <div className={style.greet}>\r\n            <div>\r\n              <i className={`iconfont icon-yanhua ${style.icon}`}></i>\r\n              <span>非常好</span>\r\n            </div>\r\n            <p>在潮汐的第XX次{modeToText[type]}</p>\r\n          </div>\r\n          <motion.div\r\n            className={style.card}\r\n            onClick={handleShareClose}\r\n            animate={{\r\n              y: shareOpen ? \"-15vh\" : 0,\r\n            }}\r\n            transition={{ duration: 0.3 }}\r\n            style={{\r\n              background: `linear-gradient(to bottom, ${modeToColor[type]}, #27ae60)`,\r\n            }}\r\n          >\r\n            <i\r\n              className={`iconfont icon-${modeToIcon[type]} ${style.card_icon}`}\r\n            ></i>\r\n            <div className={style.card_header}>\r\n              <span className={style.card_date}>\r\n                {toDay.month}月{toDay.day}日\r\n              </span>\r\n              <p className={style.card_time}>\r\n                {timeStep.start}-{timeStep.end}\r\n              </p>\r\n            </div>\r\n            <div className={style.card_content}>\r\n              我刚刚进行了{duration}分钟的{modeToText[type]}练习.\r\n            </div>\r\n            <div className={style.card_footer}>\r\n              <div className={style.card_footer_name}>\r\n                <span>时长</span>\r\n                <span>模式</span>\r\n                <span>{modeToText[type]}效率</span>\r\n              </div>\r\n              <div className={style.card_footer_value}>\r\n                <span>{duration}分钟</span>\r\n                <span>{typeName}</span>\r\n                <span>78%</span>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n          <div className={style.share}>\r\n            <div className={style.share_btn} onClick={handleShareOpen}>\r\n              分享\r\n            </div>\r\n            <motion.div\r\n              onClick={handleShareClose}\r\n              initial={false}\r\n              animate={{\r\n                y: shareOpen ? 0 : \"100%\",\r\n              }}\r\n              transition={{ duration: 0.3 }}\r\n              className={style.share_items}\r\n            >\r\n              分享功能\r\n            </motion.div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n  return ReactDOM.createPortal(ele, document.body);\r\n}\r\nexport default memo(FinishDrawer);\r\n","import React from \"react\";\r\nimport styles from \"./style.module.scss\";\r\nimport { motion } from \"framer-motion\";\r\nfunction Progress(props) {\r\n  const { percent, ...another } = props;\r\n  return (\r\n    <div {...another} className={styles.progress}>\r\n      <motion.div\r\n        initial={false}\r\n        animate={{ x: `${percent}%` }}\r\n        className={styles.content}\r\n        transition={{\r\n          type: \"tween\",\r\n        }}\r\n      ></motion.div>\r\n    </div>\r\n  );\r\n}\r\nexport default React.memo(Progress);\r\n","//mode\r\n\r\n//type\r\nexport const SET_SLEEP_TIME = \"SET_SLEEP_TIME\";\r\nexport const SET_SLEEP_CLOCK = \"SET_SLEEP_CLOCK\";\r\nexport const SET_SLEEP_CLOCK_DELAY = \"SET_SLEEP_CLOCK_DELAY\";\r\n//action\r\nexport const setSleepTime = (payload) => {\r\n  return {\r\n    type: SET_SLEEP_TIME,\r\n    payload,\r\n  };\r\n};\r\nexport const setSleepClock = (payload) => {\r\n  return {\r\n    type: SET_SLEEP_CLOCK,\r\n    payload,\r\n  };\r\n};\r\nexport const setSleepClockDelay = (payload) => {\r\n  return {\r\n    type: SET_SLEEP_CLOCK_DELAY,\r\n    payload,\r\n  };\r\n};\r\nconst init = {\r\n  sleepTime: ~~(Date.now() / 60000) * 60000, //确保整分\r\n  sleepClock: true,\r\n  sleepClockDelay: 300,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_SLEEP_TIME:\r\n      return { ...state, sleepTime: payload };\r\n    case SET_SLEEP_CLOCK:\r\n      return { ...state, sleepClock: payload };\r\n    case SET_SLEEP_CLOCK_DELAY:\r\n      return { ...state, sleepClockDelay: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport { throttle } from \"./index\";\r\n//移动端音频第一次播放必须由用户手势触发\r\nexport function useMobileHackPlay() {\r\n  useEffect(() => {\r\n    const audios = document.querySelectorAll(\"audio\");\r\n    const hackPlay = () => {\r\n      audios.forEach((audio) => {\r\n        audio.muted = false;\r\n        audio.pause();\r\n      });\r\n    };\r\n    document.addEventListener(\"click\", hackPlay, { once: true });\r\n    document.addEventListener(\"touchend\", hackPlay, { once: true });\r\n  }, []);\r\n}\r\nexport function usePress(...cancel) {\r\n  const [down, setDown] = useState(false);\r\n  const [percent, setPercent] = useState(0);\r\n  useEffect(() => {\r\n    let timer;\r\n    if (percent > 110) {\r\n      cancel.forEach((func) => func());\r\n      setDown(false);\r\n      setPercent(0);\r\n    } else if (!down) {\r\n      setPercent(0);\r\n    } else {\r\n      timer = setTimeout(() => {\r\n        setPercent((_) => _ + 10);\r\n      }, 110);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [down, percent, cancel]);\r\n\r\n  return [down, setDown, percent];\r\n}\r\nexport function useThrottle(fn, delay = 20) {\r\n  return useCallback(throttle(fn, delay), []);\r\n}\r\n","import React, { useMemo, useCallback, useState } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { DatePickerView } from \"antd-mobile\";\r\nimport enUs from \"antd-mobile/lib/date-picker-view/locale/en_US\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Progress from \"components/Progress\";\r\nimport Drawer from \"components/Drawer\";\r\nimport { vibrate, calcCurrentTime } from \"utils\";\r\nimport { SLEEP } from \"../../../store/mode\";\r\nimport { FINISH, startTimer, finishTimer } from \"../../../store/timer\";\r\nimport {\r\n  setSleepTime,\r\n  setSleepClock,\r\n  setSleepClockDelay,\r\n} from \"../../../store/sleep\";\r\nimport {\r\n  pageTransition,\r\n  fade,\r\n  clockTransition,\r\n  btnFade,\r\n  animateProps,\r\n} from \"../../../constant/variants\";\r\nimport { usePress } from \"utils/userHooks\";\r\nimport SoundDrawer from \"../SoundDrawer\";\r\nimport { imageFormat } from \"../../../constant\";\r\nfunction Sleep(props) {\r\n  const { sleepTime, sleepClock, sleepClockDelay } = useSelector(\r\n    ({ sleep }) => sleep\r\n  );\r\n  const { state } = useSelector(({ timer }) => timer);\r\n  const { active, soundList } = useSelector(({ music }) => music);\r\n  const sound = soundList[active] || {};\r\n  const dispatch = useDispatch();\r\n\r\n  const [soundOpen, setSoundOpen] = useState(false);\r\n  const [clockTimeDelayOpen, setClockTimeDelayOpen] = useState(false);\r\n\r\n  const endSleep = useCallback(() => dispatch(finishTimer()), [dispatch]);\r\n  const [down, setDown, percent] = usePress(vibrate, endSleep);\r\n  const startSleep = () => {\r\n    dispatch(startTimer({ target: calcTime(sleepTime), mode: SLEEP }));\r\n  };\r\n\r\n  const changeTime = (date) => {\r\n    dispatch(setSleepTime(date.getTime()));\r\n  };\r\n\r\n  const closeSoundDrawer = useCallback(() => setSoundOpen(false), []);\r\n  const handleSetSleepClockDelay = (time) => {\r\n    dispatch(setSleepClockDelay(time));\r\n    setClockTimeDelayOpen(false);\r\n  };\r\n  const closeClockTimeDelayDrawer = useCallback(\r\n    () => setClockTimeDelayOpen(false),\r\n    []\r\n  );\r\n  const toggleSleepClock = () => {\r\n    dispatch(setSleepClock(!sleepClock));\r\n  };\r\n  const [hour, minute] = useMemo(() => {\r\n    const diff = calcTime(sleepTime, true);\r\n    const hour = String(~~(diff / 3600)).padStart(2, \"0\");\r\n    const minute = String(~~((diff - hour * 3600) / 60)).padStart(2, \"0\");\r\n    return [hour, minute];\r\n  }, [sleepTime]);\r\n  const currentTime = calcCurrentTime();\r\n\r\n  return (\r\n    <motion.div\r\n      {...animateProps}\r\n      variants={pageTransition}\r\n      className={style.sleep}\r\n      style={{\r\n        backgroundImage: `url(${sound.cover_url}${imageFormat(600, 600)})`,\r\n      }}\r\n    >\r\n      <motion.div variants={fade} className={style.header}>\r\n        <Link to=\"/home\">\r\n          <i className=\"iconfont icon-close\"></i>\r\n        </Link>\r\n        <span className={style.text}>睡眠</span>\r\n        <i className=\"iconfont icon-close\"></i>\r\n      </motion.div>\r\n      <motion.div className={style.clock} variants={clockTransition}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH ? (\r\n            sleepClock ? (\r\n              <motion.div\r\n                key=\"sleep_time\"\r\n                className={style.select_time}\r\n                {...fade}\r\n              >\r\n                <DatePickerView\r\n                  value={new Date(sleepTime)}\r\n                  onChange={changeTime}\r\n                  mode=\"time\"\r\n                  locale={enUs}\r\n                />\r\n                <div className={style.time}>\r\n                  预计睡眠 : {hour}时{minute}分\r\n                </div>\r\n              </motion.div>\r\n            ) : (\r\n              <motion.div\r\n                key=\"closeClock\"\r\n                className={style.clock_close}\r\n                {...fade}\r\n              >\r\n                <i className=\"iconfont icon-clock\"></i>\r\n                <p>闹钟已关闭</p>\r\n                <p>仅睡眠分析</p>\r\n              </motion.div>\r\n            )\r\n          ) : (\r\n            <motion.div\r\n              className={style.current_time}\r\n              key=\"current_time\"\r\n              {...fade}\r\n            >\r\n              <p>{currentTime[0]}</p>\r\n              <p>{currentTime[1]}</p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.action}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH ? (\r\n            <>\r\n              <motion.i\r\n                key=\"play\"\r\n                {...btnFade}\r\n                className=\"iconfont icon-sleep\"\r\n                onClick={startSleep}\r\n              ></motion.i>\r\n              <motion.p {...btnFade}>开始睡眠</motion.p>\r\n            </>\r\n          ) : (\r\n            <motion.div key=\"pause\" {...btnFade} className={style.pause}>\r\n              <motion.div\r\n                initial={false}\r\n                animate={{ opacity: down ? 1 : 0 }}\r\n                style={{ width: \"100%\", marginBottom: \"1rem\" }}\r\n              >\r\n                <Progress percent={percent} />\r\n              </motion.div>\r\n              <i\r\n                className=\"iconfont icon-pause\"\r\n                onTouchStart={() => setDown(true)}\r\n                onTouchEnd={() => setDown(false)}\r\n                onTouchCancel={() => setDown(false)}\r\n              ></i>\r\n              <p>长按结束</p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.tool_bar}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH ? (\r\n            <motion.div {...fade} className={style.container}>\r\n              <div className={style.wrap} onClick={toggleSleepClock}>\r\n                <i className=\"iconfont icon-clock\"></i>\r\n                <span>闹钟{sleepClock ? \"开\" : \"关\"}</span>\r\n              </div>\r\n              <div\r\n                className={style.wrap}\r\n                onClick={() => setClockTimeDelayOpen(true)}\r\n              >\r\n                <i className=\"iconfont icon-shalou\"></i>\r\n                <span>5分钟</span>\r\n              </div>\r\n              <div className={style.wrap} onClick={() => setSoundOpen(true)}>\r\n                <i className=\"iconfont icon-sound\"></i>\r\n                <span>{sound.name?.[\"zh-Hans\"]}</span>\r\n              </div>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div\r\n              key=\"sound\"\r\n              {...fade}\r\n              className={style.wrap}\r\n              onClick={() => setSoundOpen(true)}\r\n            >\r\n              <i className=\"iconfont icon-sound\"></i>\r\n              <span>{sound.name?.[\"zh-Hans\"]}</span>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <Drawer\r\n        visible={clockTimeDelayOpen}\r\n        close={closeClockTimeDelayDrawer}\r\n        contentStyle={{\r\n          borderTopLeftRadius: \"14px\",\r\n          borderTopRightRadius: \"14px\",\r\n          paddingBottom: \"1rem\",\r\n          height: \"40vh\",\r\n        }}\r\n        title={<p className={style.focus_mode_title}>闹钟延迟</p>}\r\n      >\r\n        {Array.from(Array(36), (_, i) => (i + 1) * 5).map((item) => (\r\n          <div\r\n            key={item}\r\n            className={style.delay_time_item}\r\n            onClick={() => handleSetSleepClockDelay(item * 60)}\r\n          >\r\n            {sleepClockDelay === item * 60 && (\r\n              <i className={`iconfont icon-yes ${style.icon_choice}`}></i>\r\n            )}\r\n            {String(item).padStart(2, \"0\")} 分钟\r\n          </div>\r\n        ))}\r\n      </Drawer>\r\n      <SoundDrawer visible={soundOpen} close={closeSoundDrawer} />\r\n    </motion.div>\r\n  );\r\n}\r\nexport default React.memo(Sleep);\r\n\r\nfunction calcTime(time, entireMiute = false) {\r\n  const now = new Date();\r\n  const date = new Date(time);\r\n  now.setMilliseconds(0);\r\n  if (entireMiute) now.setSeconds(0);\r\n  if (date <= now) {\r\n    date.setDate(date.getDate() + 1);\r\n  }\r\n  return (date - now) / 1000;\r\n}\r\n","export const SET_NAP_TIME = \"SET_NAP_TIME\";\r\nexport const SET_NAP_CLOCK = \"SET_NAP_CLOCK\";\r\nexport const SET_NAP_CLOCK_DELAY = \"SET_NAP_CLOCK_DELAY\";\r\n//action\r\nexport const setNapTime = (payload) => {\r\n  return {\r\n    type: SET_NAP_TIME,\r\n    payload,\r\n  };\r\n};\r\nexport const setNapClock = (payload) => {\r\n  return {\r\n    type: SET_NAP_CLOCK,\r\n    payload,\r\n  };\r\n};\r\nexport const setNapClockDelay = (payload) => {\r\n  return {\r\n    type: SET_NAP_CLOCK_DELAY,\r\n    payload,\r\n  };\r\n};\r\nconst init = {\r\n  napTime: 0,\r\n  napClock: true,\r\n  napClockDelay: 300,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_NAP_TIME:\r\n      return { ...state, napTime: payload };\r\n    case SET_NAP_CLOCK:\r\n      return { ...state, napClock: payload };\r\n    case SET_NAP_CLOCK_DELAY:\r\n      return { ...state, napClockDelay: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { memo, useState, useRef } from \"react\";\r\n\r\nimport style from \"./style.module.scss\";\r\nimport { motion, useMotionValue } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { imageFormat } from \"../../../constant\";\r\nimport { useThrottle } from \"../../../utils/userHooks\";\r\nimport {} from \"react\";\r\nconst typeList = [\r\n  \"全部\",\r\n  \"睡眠\",\r\n  \"专注\",\r\n  \"放松\",\r\n  \"冥想\",\r\n  \"自然\",\r\n  \"都市\",\r\n  \"旋律\",\r\n];\r\nfunction SoundDrawer(props) {\r\n  const { close } = props;\r\n  const { soundList } = useSelector(({ music }) => music);\r\n  const opacity = useMotionValue(0);\r\n  const scrollRef = useRef();\r\n  const [soundType, setSoundType] = useState(\"全部\");\r\n  const handleScroll = useThrottle((e) => {\r\n    if (e.target === scrollRef.current) {\r\n      const scrollY = e.target.scrollTop;\r\n      opacity.set(Math.min(1, ~~scrollY / 100));\r\n    }\r\n  });\r\n  return (\r\n    <div onScroll={handleScroll} ref={scrollRef} className={style.drawer}>\r\n      <header>\r\n        <i className=\"iconfont icon-back\" onClick={close}></i>\r\n        <motion.h2 style={{ opacity }}>声音场景</motion.h2>\r\n      </header>\r\n      <div className={style.page_info}>\r\n        <h2>声音场景</h2>\r\n        <span>置身于自然万物的声音时空</span>\r\n      </div>\r\n      <ul className={style.navbar}>\r\n        {typeList.map((item) => (\r\n          <li\r\n            key={item}\r\n            onClick={() => setSoundType(item)}\r\n            className={soundType === item ? style.active : undefined}\r\n          >\r\n            {item}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className={style.sound_list}>\r\n        {soundList.map((item) => (\r\n          <Link\r\n            to={`/explore/sound/${item.id}`}\r\n            className={style.sound_item}\r\n            key={item.id}\r\n          >\r\n            <div className={style.wrap}>\r\n              <img\r\n                src={`${item.cover_url}${imageFormat(150, 150)}`}\r\n                alt={item.name[\"zh-Hans\"]}\r\n              />\r\n            </div>\r\n            <p className={style.title}>{item.name[\"zh-Hans\"]}</p>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(SoundDrawer);\r\n","import { FINISH } from \"./timer\";\r\n\r\n//type\r\nexport const SET_MUSE_VISIBLE = \"SET_MUSE_VISIBLE\";\r\nexport const SET_MUSE_LIST = \"SET_MUSE_LIST\";\r\nexport const SET_MUSE_ACTIVE = \"SET_MUSE_ACTIVE\";\r\nexport const SET_MUSE_STATE = \"SET_MUSE_STATE\";\r\n\r\n//action\r\nexport const setMuseVisible = (payload) => {\r\n  return {\r\n    type: SET_MUSE_VISIBLE,\r\n    payload,\r\n  };\r\n};\r\nexport const setMuseList = (payload) => {\r\n  return {\r\n    type: SET_MUSE_LIST,\r\n    payload,\r\n  };\r\n};\r\nexport const setMuseActive = (payload) => {\r\n  return {\r\n    type: SET_MUSE_ACTIVE,\r\n    payload,\r\n  };\r\n};\r\nexport const setMuseState = (payload) => {\r\n  return {\r\n    type: SET_MUSE_STATE,\r\n    payload,\r\n  };\r\n};\r\n\r\nconst init = {\r\n  state: FINISH,\r\n  museVisible: false,\r\n  museList: [],\r\n  active: 0,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_MUSE_VISIBLE:\r\n      return { ...state, museVisible: payload };\r\n    case SET_MUSE_LIST:\r\n      return { ...state, museList: payload };\r\n    case SET_MUSE_ACTIVE:\r\n      return { ...state, active: payload };\r\n    case SET_MUSE_STATE:\r\n      return { ...state, state: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setMuseVisible, setMuseActive } from \"../../../store/muse\";\r\nimport { imageFormat } from \"../../../constant\";\r\nimport { Modal } from \"antd-mobile\";\r\nimport { PLAY } from \"../../../store/timer\";\r\n\r\nfunction MuseTypeList(props) {\r\n  const { museList, state } = useSelector(({ muse }) => muse);\r\n  const dispatch = useDispatch();\r\n  const handleOpenMuse = (index) => {\r\n    if (state === PLAY) {\r\n      //询问是否改变音频\r\n      Modal.alert(\"更换冥想练习?\", \"当前正在练习,确定更换?\", [\r\n        {\r\n          text: \"取消\",\r\n          style: \"default\",\r\n        },\r\n        {\r\n          text: \"确定\",\r\n          onPress: () => {\r\n            dispatch(setMuseVisible(true));\r\n            dispatch(setMuseActive(index));\r\n          },\r\n        },\r\n      ]);\r\n    } else {\r\n      dispatch(setMuseVisible(true));\r\n      dispatch(setMuseActive(index));\r\n    }\r\n  };\r\n  const { ...restProps } = props;\r\n  return (\r\n    <div className={style.list} {...restProps}>\r\n      {museList.map((item, i) => (\r\n        <div\r\n          key={item.id}\r\n          className={style.item}\r\n          onClick={() => handleOpenMuse(i)}\r\n        >\r\n          <img\r\n            className={style.cover}\r\n            src={`${item.image}${imageFormat(100, 100)}`}\r\n            alt={item.name[\"zh-Hans\"]}\r\n          />\r\n          <p>{item.name[\"zh-Hans\"]}</p>\r\n        </div>\r\n      ))}\r\n      {/* {museList.map(({ name, color }) => (\r\n        <div key={name} className={style.item} onClick={handleOpenMuse}>\r\n          <div className={style.bg} style={{ backgroundColor: color }}></div>\r\n          <p>{name}</p>\r\n        </div>\r\n      ))} */}\r\n    </div>\r\n  );\r\n}\r\nexport default memo(MuseTypeList);\r\n","import React, { memo, useRef } from \"react\";\r\n\r\nimport style from \"./style.module.scss\";\r\nimport { motion, useMotionValue } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { imageFormat } from \"../../../constant\";\r\nimport { useThrottle } from \"../../../utils/userHooks\";\r\nimport {} from \"react\";\r\nimport MuseTypeList from \"../MuseTypeList\";\r\nfunction MuseDrawer(props) {\r\n  const { close } = props;\r\n  const { soundList } = useSelector(({ music }) => music);\r\n  const opacity = useMotionValue(0);\r\n  const scrollRef = useRef();\r\n  const handleScroll = useThrottle((e) => {\r\n    if (e.target === scrollRef.current) {\r\n      const scrollY = e.target.scrollTop;\r\n      opacity.set(Math.min(1, ~~scrollY / 100));\r\n    }\r\n  });\r\n  return (\r\n    <div onScroll={handleScroll} ref={scrollRef} className={style.drawer}>\r\n      <header className={style.header}>\r\n        <i className=\"iconfont icon-back\" onClick={close}></i>\r\n        <motion.h2 style={{ opacity }}>冥想</motion.h2>\r\n      </header>\r\n      <div className={style.page_info}>\r\n        <h2>冥想</h2>\r\n        <span>有意识地,不带评判地持续关注每个当下</span>\r\n      </div>\r\n      <div className={style.group}>\r\n        <div className={style.group_title}>\r\n          <div className={style.wrap}>\r\n            <p className={style.title}>轻冥想</p>\r\n          </div>\r\n          <p className={style.sub_title}></p>\r\n        </div>\r\n        <MuseTypeList style={{ padding: \"0 2rem 1rem\" }} />\r\n      </div>\r\n      <div className={style.group}>\r\n        <div className={style.group_title}>\r\n          <div className={style.wrap}>\r\n            <p className={style.title}>时刻</p>\r\n            <p className={style.more}>更多</p>\r\n          </div>\r\n          <p className={style.sub_title}>随时随地,开始冥想</p>\r\n        </div>\r\n        <div className={style.albums}>\r\n          {soundList.map((sound) => (\r\n            <Link\r\n              key={sound.id}\r\n              to={`/explore/muse/${sound.id}`}\r\n              className={style.album}\r\n            >\r\n              <img\r\n                src={`${sound.cover_url}${imageFormat(400, 400)}`}\r\n                alt={sound.name[\"zh-Hans\"]}\r\n                className={style.cover}\r\n              />\r\n              <h3 className={style.name}>{sound.name[\"zh-Hans\"]}</h3>\r\n              <span className={style.duration}>duration</span>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={`${style.group} ${style.base}`}>\r\n        <div className={style.group_title}>\r\n          <div className={style.wrap}>\r\n            <p className={style.title}>基础</p>\r\n            <p className={style.more}>更多</p>\r\n          </div>\r\n          <p className={style.sub_title}>冥想的基本之道</p>\r\n        </div>\r\n        <div className={style.albums}>\r\n          {soundList.map((sound) => (\r\n            <Link\r\n              key={sound.id}\r\n              to={`/explore/muse/${sound.id}`}\r\n              className={style.album}\r\n            >\r\n              <img\r\n                src={`${sound.cover_url}${imageFormat(400, 400)}`}\r\n                alt={sound.name[\"zh-Hans\"]}\r\n                className={style.cover}\r\n              />\r\n              <h3 className={style.name}>{sound.name[\"zh-Hans\"]}</h3>\r\n              <span className={style.duration}>duration</span>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(MuseDrawer);\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\n\r\nfunction SleepDrawer(props) {\r\n  const { close } = props;\r\n  return (\r\n    <div className={style.drawer}>\r\n      SleepDrawer\r\n      <span onClick={close}>close</span>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(SleepDrawer);\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\n\r\nfunction PlusDrawer(props) {\r\n  const { close } = props;\r\n  return (\r\n    <div className={style.drawer}>\r\n      PlusDrawer\r\n      <span onClick={close}>close</span>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(PlusDrawer);\r\n","import React, { memo } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport style from \"./style.module.scss\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport SoundDrawer from \"../SoundDrawer\";\r\nimport MuseDrawer from \"../MuseDrawer\";\r\nimport SleepDrawer from \"../SleepDrawer\";\r\nimport PlusDrawer from \"../PlusDrawer\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { EXPLORE_PATH } from \"../../../constant\";\r\nconst DrawerMap = {\r\n  sound: SoundDrawer,\r\n  muse: MuseDrawer,\r\n  sleep: SleepDrawer,\r\n  plus: PlusDrawer,\r\n};\r\nfunction DrawerContainer(props) {\r\n  const { type, close } = props;\r\n  const Drawer = DrawerMap[type];\r\n  const { pathname } = useLocation();\r\n  const ele = (\r\n    <AnimatePresence initial={false} exitBeforeEnter>\r\n      {type && (\r\n        <motion.div\r\n          initial={{ x: \"100%\" }}\r\n          animate={{ x: pathname === EXPLORE_PATH ? 0 : \"-25%\" }}\r\n          exit={{ x: \"100%\" }}\r\n          transition={{ ease: \"easeInOut\", duration: 0.4 }}\r\n          className={style.drawer_container}\r\n        >\r\n          <Drawer close={close} />\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n  return ReactDOM.createPortal(ele, document.body);\r\n}\r\nexport default memo(DrawerContainer);\r\n","import React, {\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useCallback,\r\n  useRef,\r\n} from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, useAnimation, useMotionValue } from \"framer-motion\";\r\nimport Menu from \"components/Menu\";\r\nimport Swiper from \"Swiper\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport TransitionSwitch from \"../../components/TransitionSwitch\";\r\nimport { renderRoutes } from \"../../routes\";\r\nimport DrawerContainer from \"./DrawerContainer\";\r\nimport { EXPLORE_PATH, imageFormat } from \"../../constant\";\r\nimport { useThrottle } from \"../../utils/userHooks\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport MuseTypeList from \"./MuseTypeList\";\r\nimport { setMuseList } from \"../../store/muse\";\r\nimport museData from \"utils/museList.json\";\r\n\r\nfunction Explore(props) {\r\n  const { routes } = props;\r\n  const { soundList } = useSelector(({ music }) => music);\r\n  const { museList } = useSelector(({ muse }) => muse);\r\n  const { pathname } = useLocation();\r\n  const dispatch = useDispatch();\r\n  const controls = useAnimation();\r\n  const scrollRef = useRef();\r\n  const opacity = useMotionValue(0);\r\n  const [drawerType, setDrawerType] = useState(null);\r\n  const navBoxData = useMemo(\r\n    () => [\r\n      {\r\n        icon: \"sound\",\r\n        color: \"#2ecc71\",\r\n        name: \"声音\",\r\n        type: \"sound\",\r\n      },\r\n      {\r\n        icon: \"circle\",\r\n        color: \"#3498db\",\r\n        name: \"冥想\",\r\n        type: \"muse\",\r\n      },\r\n      {\r\n        icon: \"sleep\",\r\n        color: \"#9b59b6\",\r\n        name: \"睡眠\",\r\n        type: \"sleep\",\r\n      },\r\n      {\r\n        icon: \"vip\",\r\n        color: \"#f1c40f\",\r\n        name: \"PLUS\",\r\n        type: \"plus\",\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  const toDay = useMemo(() => {\r\n    const now = new Date().toDateString().split(\" \");\r\n    return [now[1].toUpperCase(), now[2]];\r\n  }, []);\r\n\r\n  //swiper\r\n  useEffect(() => {\r\n    let swiper;\r\n    if (soundList.length) {\r\n      swiper = InitSwiper(\".swiper-container\");\r\n    }\r\n    return () => {\r\n      swiper && swiper.destroy(false);\r\n    };\r\n  }, [soundList]);\r\n  //route animate\r\n  useEffect(() => {\r\n    if (!drawerType && pathname === EXPLORE_PATH) {\r\n      controls.start({ x: 0 });\r\n    } else {\r\n      controls.start({ x: \"-25%\" });\r\n    }\r\n  }, [controls, pathname, drawerType]);\r\n\r\n  //museList\r\n  useEffect(() => {\r\n    if (!museList.length) dispatch(setMuseList(museData));\r\n  }, [dispatch, museList]);\r\n\r\n  const handleScroll = useThrottle((e) => {\r\n    if (e.target === scrollRef.current) {\r\n      const scrollY = e.target.scrollTop;\r\n      opacity.set(Math.min(1, ~~scrollY / 100));\r\n    }\r\n  });\r\n  const OpenDrawer = useCallback(\r\n    (type) => {\r\n      setDrawerType(type);\r\n      controls.start({ opacity: 1, x: \"-25%\" });\r\n    },\r\n    [controls]\r\n  );\r\n\r\n  const closeDrawer = useCallback(() => {\r\n    setDrawerType(null);\r\n    controls.start({ x: 0 });\r\n  }, [controls]);\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className={style.explore}\r\n        initial={{ opacity: 1 }}\r\n        animate={controls}\r\n        exit={{ opacity: 0 }}\r\n        transition={{ ease: \"easeInOut\", duration: 0.4 }}\r\n      >\r\n        <header>\r\n          <motion.p style={{ opacity }}>探索</motion.p>\r\n        </header>\r\n        <div\r\n          className={style.content_wrap}\r\n          ref={scrollRef}\r\n          onScroll={handleScroll}\r\n        >\r\n          <div className={style.page_info}>\r\n            <p>探索</p>\r\n            <span>带着觉知, 清醒地生活</span>\r\n          </div>\r\n          <div className=\"swiper-container\">\r\n            <div className=\"swiper-wrapper\">\r\n              {soundList.slice(10).map((sound) => (\r\n                <div key={sound.id} className={`swiper-slide`}>\r\n                  <img\r\n                    className={style.banner_item}\r\n                    src={`${sound.cover_url}${imageFormat(400, 400)}`}\r\n                    alt={sound.name[\"zh-Hans\"]}\r\n                  />\r\n                  <span className={style.banner_text}>\r\n                    {sound.name[\"zh-Hans\"]}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className={style.nav_box}>\r\n            {navBoxData.map(({ icon, color, name, type }) => (\r\n              <div\r\n                key={name}\r\n                className={style.nav_box_item}\r\n                onClick={() => OpenDrawer(type)}\r\n              >\r\n                <i className={`iconfont icon-${icon}`} style={{ color }}></i>\r\n                <p>{name}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className={style.name}>\r\n            <h3>声音</h3>\r\n            <span>更多</span>\r\n          </div>\r\n          <div className={style.sound_list}>\r\n            {soundList.map((sound) => (\r\n              <Link\r\n                to={`/explore/sound/${sound.id}`}\r\n                key={sound.id}\r\n                className={style.sound_list_item}\r\n                style={{ backgroundColor: `rgba(${sound.primary_color})` }}\r\n              >\r\n                <img\r\n                  src={`${sound.cover_url}${imageFormat(100, 100)}`}\r\n                  alt={sound.name[\"zh-Hans\"]}\r\n                />\r\n                <p>{sound.name[\"zh-Hans\"]}</p>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n          <div className={style.name}>\r\n            <h3>轻冥想</h3>\r\n          </div>\r\n          <MuseTypeList\r\n            style={{\r\n              padding: \"0 2rem 1rem\",\r\n            }}\r\n          />\r\n          <div className={style.sleep_box}>\r\n            <div className={style.name}>\r\n              <h3>睡眠</h3>\r\n              <span>更多</span>\r\n            </div>\r\n            <ul className={style.sleep_list}>\r\n              {soundList.slice(2, 8).map((sound) => (\r\n                <li key={sound.id} className={style.sleep_list_item}>\r\n                  <img\r\n                    src={`${sound.cover_url}${imageFormat(300, 300)}`}\r\n                    alt={sound.name[\"zh-Hans\"]}\r\n                  />\r\n                  <div className={style.infos}>\r\n                    <p>{sound.name[\"zh-Hans\"]}</p>\r\n                    <span>{sound.sub_title[\"zh-Hans\"]}</span>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className={style.name}>\r\n            <h3>冥想</h3>\r\n            <span>更多</span>\r\n          </div>\r\n          <div className={style.muse_list}>\r\n            {soundList.slice(12).map((sound) => (\r\n              <li key={sound.id} className={style.muse_list_item}>\r\n                <img\r\n                  src={`${sound.cover_url}${imageFormat(300, 300)}`}\r\n                  alt={sound.name[\"zh-Hans\"]}\r\n                />\r\n                <div className={style.infos}>\r\n                  <p>{sound.name[\"zh-Hans\"]}</p>\r\n                  <span>{sound.sub_title[\"zh-Hans\"]}</span>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </div>\r\n          <div className={style.name}>\r\n            <h3 style={{ color: \"#ccc\" }}>潮汐日帖</h3>\r\n            <span>更多</span>\r\n          </div>\r\n          <div className={style.day_image_wrap}>\r\n            <div className={style.img_container}>\r\n              <img\r\n                src={`${soundList[14]?.cover_url}${imageFormat(500, 500)}`}\r\n                alt=\"\"\r\n              />\r\n              <ul className={style.day_title}>\r\n                <li>潮</li>\r\n                <li>汐</li>\r\n                <li>日</li>\r\n                <li>帖</li>\r\n              </ul>\r\n              <div className={style.day_time}>\r\n                <p className={style.day}>{toDay[1]}</p>\r\n                <p className={style.month}>{toDay[0]}</p>\r\n              </div>\r\n            </div>\r\n            <div className={style.poetry}>\r\n              <p>终日昏昏醉梦间，忽闻春尽强登山。</p>\r\n              <p>因过竹院逢僧话，偷得浮生半日闲。</p>\r\n            </div>\r\n            <p className={style.author}>《题鹤林寺僧舍》, 李涉</p>\r\n            <hr />\r\n          </div>\r\n          <section className={style.article_list}>\r\n            {Array.from(Array(7), (_, i) => (\r\n              <div key={i} className={style.article}>\r\n                <div className={style.title}>\r\n                  <span className={style.title_type}>冥想</span>\r\n                  <p>test</p>\r\n                </div>\r\n                <img\r\n                  src={`${soundList[19]?.cover_url}${imageFormat(100, 100)}`}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </section>\r\n          <footer>和大自然一起平静身心</footer>\r\n        </div>\r\n        <Menu />\r\n      </motion.div>\r\n      <TransitionSwitch renderOne={false}>\r\n        {renderRoutes(routes)}\r\n      </TransitionSwitch>\r\n      <DrawerContainer close={closeDrawer} type={drawerType} />\r\n    </>\r\n  );\r\n}\r\nexport default memo(Explore);\r\n\r\nfunction InitSwiper(container) {\r\n  return new Swiper(container, {\r\n    grabCursor: true,\r\n    observer: true,\r\n    observeParents: true,\r\n    autoplay: true,\r\n    loop: true,\r\n  });\r\n}\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { animateProps, pageTransition } from \"../../constant/variants\";\r\n\r\nimport Menu from \"../../components/Menu\";\r\n\r\nfunction User(props) {\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className={style.user}\r\n        {...animateProps}\r\n        variants={pageTransition}\r\n      >\r\n        <motion.div className={style.header}>用户</motion.div>\r\n      </motion.div>\r\n      <Menu\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          position: \"fixed\",\r\n          bottom: \"0\",\r\n          width: \"100%\",\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\nexport default memo(User);\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion } from \"framer-motion\";\r\nfunction Sleep() {\r\n  return (\r\n    <motion.div\r\n      initial={{\r\n        x: \"100%\",\r\n      }}\r\n      animate={{ x: 0 }}\r\n      exit={{ x: \"100%\" }}\r\n      transition={{\r\n        ease: \"easeInOut\",\r\n      }}\r\n      className={style.sleep}\r\n    >\r\n      sleep\r\n    </motion.div>\r\n  );\r\n}\r\nexport default memo(Sleep);\r\n","import React, { memo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { imageFormat } from \"../../../constant\";\r\nfunction SoundDetail(props) {\r\n  const { goBack } = useHistory();\r\n  const { id } = useParams();\r\n  const { soundList } = useSelector(({ music }) => music);\r\n  const sound = soundList.find((item) => item.id === id);\r\n  return (\r\n    <motion.div\r\n      initial={{ x: \"100%\" }}\r\n      animate={{ x: 0 }}\r\n      exit={{ x: \"100%\" }}\r\n      transition={{ ease: \"easeInOut\", duration: 0.4 }}\r\n      className={style.sound_detail}\r\n      style={{\r\n        backgroundColor: `rgba(${sound?.primary_color})`,\r\n      }}\r\n    >\r\n      {sound ? (\r\n        <>\r\n          <header className={style.header}>\r\n            <i className=\"iconfont icon-back\" onClick={goBack}></i>\r\n          </header>\r\n          <div className={style.cover}>\r\n            <div className={style.description}>\r\n              <h2>{sound.name?.[\"zh-Hans\"]}</h2>\r\n              <span>{sound.sub_title?.[\"zh-Hans\"]}</span>\r\n            </div>\r\n            <img\r\n              src={`${sound?.cover_url}${imageFormat(400, 400)}`}\r\n              alt={sound.name?.[\"zh-Hans\"]}\r\n            />\r\n          </div>\r\n          <div className={style.content}>\r\n            <blockquote>\r\n              <p>{sound.description?.[\"zh-Hans\"]}</p>\r\n              <footer>\r\n                <span>——</span>\r\n                {sound.description_author?.[\"zh-Hans\"]}\r\n              </footer>\r\n            </blockquote>\r\n          </div>\r\n          <div\r\n            className={style.btn}\r\n            style={{ color: `rgba(${sound?.primary_color})` }}\r\n          >\r\n            <i className=\"iconfont icon-play\"></i>\r\n            <span>播放</span>\r\n          </div>\r\n          <div\r\n            className={style.mask}\r\n            style={{\r\n              background: `linear-gradient(rgba(${sound?.scene_masks?.[0]}), rgba(${sound?.scene_masks?.[1]}))`,\r\n            }}\r\n          ></div>\r\n        </>\r\n      ) : (\r\n        <h1 style={{ color: \"#000\" }}>加载中...</h1>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\nexport default memo(SoundDetail);\r\n","import React from \"react\";\r\nimport Home from \"../pages/Home\";\r\nimport Focus from \"../pages/Home/Focus\";\r\nimport Sleep from \"../pages/Home/Sleep\";\r\nimport Nap from \"../pages/Home/Nap\";\r\nimport Breathe from \"../pages/Home/Breathe\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Explore from \"../pages/Explore\";\r\nimport User from \"../pages/User\";\r\nimport { TransitionRedirect } from \"../components/TransitionSwitch\";\r\nimport ExploreSleep from \"../pages/Explore/Sleep\";\r\nimport SoundDetail from \"../pages/Explore/SoundDetail\";\r\n\r\n/**\r\n * /home 主页\r\n * /home/sounds 设置声音\r\n * /home/focus 专注\r\n * /home/sleep 睡眠\r\n * /home/nap 小憩\r\n * /home/breathe 呼吸\r\n * /explore 探索\r\n */\r\n\r\nexport const routes = [\r\n  {\r\n    path: \"/\",\r\n    component: () => <TransitionRedirect to=\"/home\" />,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/home\",\r\n    component: Home,\r\n    children: [\r\n      {\r\n        path: \"/home/focus\",\r\n        component: Focus,\r\n        exact: true,\r\n      },\r\n      {\r\n        path: \"/home/sleep\",\r\n        component: Sleep,\r\n        exact: true,\r\n      },\r\n      {\r\n        path: \"/home/nap\",\r\n        component: Nap,\r\n        exact: true,\r\n      },\r\n      {\r\n        path: \"/home/breathe\",\r\n        component: Breathe,\r\n        exact: true,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/explore\",\r\n    component: Explore,\r\n    children: [\r\n      {\r\n        path: \"/explore/:type/:id\",\r\n        component: SoundDetail,\r\n        exact: true,\r\n      },\r\n      {\r\n        path: \"/explore/sleep/:name\",\r\n        component: ExploreSleep,\r\n        exact: true,\r\n      },\r\n    ],\r\n  },\r\n\r\n  {\r\n    path: \"/user\",\r\n    component: User,\r\n  },\r\n];\r\n\r\nexport const renderRoutes = (routes) => {\r\n  return routes.map((item) => {\r\n    const { path, exact, children } = item;\r\n    return (\r\n      <Route key={path} path={path} exact={exact}>\r\n        <item.component routes={children} />\r\n      </Route>\r\n    );\r\n  });\r\n};\r\n","import React, {\r\n  useState,\r\n  useMemo,\r\n  useEffect,\r\n  useRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PickerView } from \"antd-mobile\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Drawer from \"components/Drawer\";\r\nimport Ring from \"components/Ring\";\r\nimport {\r\n  setFocusMode,\r\n  setFocusTime,\r\n  setFocusCount,\r\n  EFFICIENT_MODE,\r\n  INFINITE_MODE,\r\n} from \"../../../store/focus\";\r\nimport {\r\n  PLAY,\r\n  FINISH,\r\n  PAUSE,\r\n  startTimer,\r\n  pauseTimer,\r\n  finishTimer,\r\n} from \"../../../store/timer\";\r\nimport { FOCUS } from \"../../../store/mode\";\r\nimport { formateTime } from \"../../../utils\";\r\nimport {\r\n  focusModeList,\r\n  FocusModeToText,\r\n  FocusModeToIcon,\r\n  showFinishPageMinTime,\r\n  tomatoSettings,\r\n  imageFormat,\r\n} from \"../../../constant\";\r\nimport {\r\n  pageTransition,\r\n  animateProps,\r\n  fade,\r\n  clockTransition,\r\n  focus_fade_btn_left,\r\n  focus_fade_btn_right,\r\n} from \"../../../constant/variants\";\r\nimport SoundDrawer from \"../SoundDrawer\";\r\nimport FinishDrawer from \"../../../components/FinishDrawer\";\r\nexport default function Focus(props) {\r\n  const dispatch = useDispatch();\r\n  const { focusMode, focusTime, focusCount } = useSelector(\r\n    ({ focus }) => focus\r\n  );\r\n  const { second, target, state } = useSelector(({ timer }) => timer);\r\n  const { active, soundList } = useSelector(({ music }) => music);\r\n  const sound = soundList[active] || {};\r\n  const [focusModeOpen, setFocusModeOpen] = useState(false);\r\n  const [soundOpen, setSoundOpen] = useState(false);\r\n  const [finishOpen, setFinishOpen] = useState(false);\r\n  const relax = useMemo(() => {\r\n    return focusCount % 2 === 0 && focusMode === EFFICIENT_MODE;\r\n  }, [focusCount, focusMode]);\r\n  const lastSecond = useRef(0);\r\n\r\n  //openFinish?\r\n  useEffect(() => {\r\n    if (state === FINISH && lastSecond.current >= showFinishPageMinTime) {\r\n      setFinishOpen(true);\r\n    } else {\r\n      lastSecond.current = second;\r\n    }\r\n  }, [state, second]);\r\n  //set relax time\r\n  useEffect(() => {\r\n    if (focusMode !== EFFICIENT_MODE) return;\r\n    if (focusCount % 2) {\r\n      dispatch(setFocusTime(tomatoSettings.FocusTime));\r\n    } else if (focusCount % 8 === 0) {\r\n      dispatch(setFocusTime(tomatoSettings.LongRelax));\r\n    } else {\r\n      dispatch(setFocusTime(tomatoSettings.ShortRelax));\r\n    }\r\n  }, [dispatch, focusCount, focusMode]);\r\n  const data = useMemo(() => {\r\n    return Array.from(new Array(36), (_, i) => ({\r\n      label: (i + 1) * 5,\r\n      value: (i + 1) * 5,\r\n    }));\r\n  }, []);\r\n\r\n  const focusTimeChange = (select) => {\r\n    dispatch(setFocusTime(select[0] * 60));\r\n  };\r\n  const timeStart = () => {\r\n    dispatch(\r\n      startTimer({\r\n        target: focusMode === INFINITE_MODE ? Infinity : focusTime,\r\n        mode: FOCUS,\r\n      })\r\n    );\r\n  };\r\n  const timePause = () => {\r\n    dispatch(pauseTimer());\r\n  };\r\n  const timeEnd = () => {\r\n    dispatch(finishTimer());\r\n    dispatch(setFocusCount(1));\r\n  };\r\n  const drawerChange = (type) => {\r\n    dispatch(setFocusMode(type));\r\n    setFocusModeOpen(false);\r\n  };\r\n\r\n  const finishDrawerClose = useCallback(() => setFinishOpen(false), []);\r\n  const soundDrawerClose = useCallback(() => setSoundOpen(false), []);\r\n  const focusModeDrawerClose = useCallback(() => setFocusModeOpen(false), []);\r\n\r\n  return (\r\n    <motion.div\r\n      {...animateProps}\r\n      variants={pageTransition}\r\n      className={`${style.focus} ${relax && style.relax}`}\r\n      style={{\r\n        backgroundImage: `url(${sound.cover_url}${imageFormat(600, 600)})`,\r\n      }}\r\n    >\r\n      <motion.div variants={fade} className={style.header}>\r\n        <Link to=\"/home\">\r\n          <i className=\"iconfont icon-close\"></i>\r\n        </Link>\r\n        <span>专注</span>\r\n        <i className=\"iconfont icon-close\"></i>\r\n      </motion.div>\r\n      <motion.div variants={clockTransition} className={style.clock}>\r\n        <Ring\r\n          style={{ position: \"absolute\" }}\r\n          rate={second / target}\r\n          radius={110}\r\n          color=\"#ecf0f1\"\r\n        />\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH && focusMode !== INFINITE_MODE ? (\r\n            <motion.div {...fade} className={style.select_time}>\r\n              <PickerView\r\n                value={[focusTime / 60]}\r\n                onChange={focusTimeChange}\r\n                data={data}\r\n                cols={1}\r\n                indicatorStyle={{ opacity: 0 }}\r\n              />\r\n              <span className={style.minute}>分钟</span>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.p key=\"countdown\" {...fade} className={style.count_down}>\r\n              {focusMode === INFINITE_MODE\r\n                ? formateTime(second)\r\n                : formateTime(target - second)}\r\n            </motion.p>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.action}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH && (\r\n            <motion.span\r\n              key=\"finish\"\r\n              {...fade}\r\n              className={style.btn}\r\n              onClick={timeStart}\r\n            >\r\n              {relax ? \"放松一下\" : \"开始专注\"}\r\n            </motion.span>\r\n          )}\r\n          {state === PAUSE && (\r\n            <>\r\n              <motion.span\r\n                {...focus_fade_btn_left}\r\n                className={style.btn}\r\n                onClick={timeStart}\r\n              >\r\n                继续\r\n              </motion.span>\r\n              <motion.span\r\n                {...focus_fade_btn_right}\r\n                className={style.btn_transparent}\r\n                onClick={timeEnd}\r\n              >\r\n                结束\r\n              </motion.span>\r\n            </>\r\n          )}\r\n          {state === PLAY && (\r\n            <motion.div\r\n              key=\"play\"\r\n              {...fade}\r\n              className={style.btn_transparent}\r\n              onClick={timePause}\r\n            >\r\n              暂停\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.tool_bar}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH ? (\r\n            <motion.div key=\"two\" {...fade} className={style.wrap}>\r\n              <div\r\n                className={style.mode}\r\n                onClick={() => setFocusModeOpen(true)}\r\n              >\r\n                <i\r\n                  className={`iconfont icon-${FocusModeToIcon[focusMode]}`}\r\n                ></i>\r\n                <span>{FocusModeToText[focusMode]}</span>\r\n              </div>\r\n              <div className={style.mode} onClick={() => setSoundOpen(true)}>\r\n                <i className=\"iconfont icon-sound\"></i>\r\n                <span>{sound[\"name\"]?.[\"zh-Hans\"]}</span>\r\n              </div>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div\r\n              key=\"one\"\r\n              {...fade}\r\n              className={style.mode}\r\n              onClick={() => setSoundOpen(true)}\r\n            >\r\n              <i className=\"iconfont icon-sound\"></i>\r\n              <span>{sound[\"name\"]?.[\"zh-Hans\"]}</span>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <Drawer\r\n        visible={focusModeOpen}\r\n        close={focusModeDrawerClose}\r\n        contentStyle={{\r\n          borderTopLeftRadius: \"14px\",\r\n          borderTopRightRadius: \"14px\",\r\n          paddingBottom: \"1rem\",\r\n        }}\r\n        title={<p className={style.focus_mode_title}>专注模式</p>}\r\n      >\r\n        {focusModeList.map(({ mode, icon, title, color, intro }) => (\r\n          <div\r\n            key={mode}\r\n            className={style.sidebar_item}\r\n            onClick={() => drawerChange(mode)}\r\n          >\r\n            <i className={`iconfont icon-${icon}`} style={{ color }}></i>\r\n            {mode === focusMode && (\r\n              <i className={`iconfont icon-yes ${style.icon_choice}`}></i>\r\n            )}\r\n            <div className={style.mode_intro}>\r\n              <p>{title}</p>\r\n              <span>{intro}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </Drawer>\r\n      <FinishDrawer\r\n        visible={finishOpen && (relax || focusMode !== EFFICIENT_MODE)}\r\n        close={finishDrawerClose}\r\n        type={FOCUS}\r\n        typeName={FocusModeToText[focusMode]}\r\n        duration={(lastSecond.current / 60) | 0}\r\n      />\r\n\r\n      <SoundDrawer visible={soundOpen} close={soundDrawerClose} />\r\n    </motion.div>\r\n  );\r\n}\r\n","import React, { useState, useCallback, useMemo } from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PickerView } from \"antd-mobile\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FINISH, PLAY, startTimer, finishTimer } from \"../../../store/timer\";\r\nimport { setNapTime, setNapClock, setNapClockDelay } from \"../../../store/nap\";\r\nimport { NAP } from \"../../../store/mode\";\r\nimport { vibrate, calcCurrentTime } from \"utils\";\r\nimport {\r\n  pageTransition,\r\n  animateProps,\r\n  fade,\r\n  clockTransition,\r\n} from \"../../../constant/variants\";\r\nimport { usePress } from \"utils/userHooks\";\r\nimport Progress from \"components/Progress\";\r\nimport SoundDrawer from \"../SoundDrawer\";\r\nimport Drawer from \"components/Drawer\";\r\nimport { imageFormat } from \"../../../constant\";\r\nexport default function Nap() {\r\n  const { state } = useSelector(({ timer }) => timer);\r\n  const { napTime, napClock, napClockDelay } = useSelector(({ nap }) => nap);\r\n  const { active, soundList } = useSelector(({ music }) => music);\r\n  const dispatch = useDispatch();\r\n\r\n  const sound = soundList[active] || {};\r\n  const [soundOpen, setSoundOpen] = useState(false);\r\n  const [clockTimeDelayOpen, setClockTimeDelayOpen] = useState(false);\r\n\r\n  const data = useMemo(() => {\r\n    return Array.from(new Array(18), (_, i) => ({\r\n      label: (i + 1) * 10,\r\n      value: (i + 1) * 10,\r\n    }));\r\n  }, []);\r\n  const pickerChange = (date) => {\r\n    dispatch(setNapTime(date[0] * 60));\r\n  };\r\n  const startNap = () => {\r\n    dispatch(startTimer({ target: napTime, mode: NAP }));\r\n  };\r\n  const endNap = useCallback(() => dispatch(finishTimer()), [dispatch]);\r\n\r\n  const [down, setDown, percent] = usePress(vibrate, endNap);\r\n  const currentTime = calcCurrentTime();\r\n\r\n  const clockTime = useMemo(() => {\r\n    const now = new Date();\r\n    now.setSeconds(now.getSeconds() + napTime);\r\n    return [\r\n      String(now.getHours()).padStart(2, \"0\"),\r\n      String(now.getMinutes()).padStart(2, \"0\"),\r\n    ];\r\n  }, [napTime]);\r\n  const handleSetNapClockDelay = (time) => {\r\n    dispatch(setNapClockDelay(time));\r\n    setClockTimeDelayOpen(false);\r\n  };\r\n  const closeClockTimeDelayDrawer = useCallback(\r\n    () => setClockTimeDelayOpen(false),\r\n    []\r\n  );\r\n  const toggleNapClock = () => {\r\n    dispatch(setNapClock(!napClock));\r\n  };\r\n  return (\r\n    <motion.div\r\n      {...animateProps}\r\n      variants={pageTransition}\r\n      className={style.nap}\r\n      style={{\r\n        backgroundImage: `url(${sound.cover_url}${imageFormat(600, 600)})`,\r\n      }}\r\n    >\r\n      <motion.div variants={fade} className={style.header}>\r\n        <Link to=\"/home\">\r\n          <i className=\"iconfont icon-close\"></i>\r\n        </Link>\r\n        <span>小憩</span>\r\n        <i className=\"iconfont icon-close\"></i>\r\n      </motion.div>\r\n      <motion.div variants={clockTransition} className={style.clock}>\r\n        <div\r\n          className={style.nap_circle}\r\n          style={{\r\n            animationPlayState: state === PLAY ? \"running\" : \"paused\",\r\n          }}\r\n        ></div>\r\n        <AnimatePresence initial={false} exitBeforeEnter>\r\n          {state === FINISH ? (\r\n            napClock ? (\r\n              <motion.div\r\n                key=\"nap_time\"\r\n                {...fade}\r\n                className={style.select_time}\r\n              >\r\n                <PickerView\r\n                  value={[napTime / 60]}\r\n                  onChange={pickerChange}\r\n                  data={data}\r\n                  cols={1}\r\n                  indicatorStyle={{ opacity: 0 }}\r\n                />\r\n                <p className={style.minute}>分钟</p>\r\n                <p className={style.time}>\r\n                  闹钟将于{clockTime[0]}:{clockTime[1]}响起\r\n                </p>\r\n              </motion.div>\r\n            ) : (\r\n              <motion.div\r\n                key=\"clock_close\"\r\n                {...fade}\r\n                className={style.clock_close}\r\n              >\r\n                <p>闹钟已关闭</p>\r\n              </motion.div>\r\n            )\r\n          ) : (\r\n            <motion.div\r\n              className={style.current_time}\r\n              key=\"current_time\"\r\n              {...fade}\r\n            >\r\n              <p>{currentTime[0]}</p>\r\n              <p>{currentTime[1]}</p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.action}>\r\n        <AnimatePresence initial={false} exitBeforeEnter>\r\n          {state === FINISH ? (\r\n            <motion.i\r\n              key=\"sun\"\r\n              {...clockTransition}\r\n              className=\"iconfont icon-sun\"\r\n              onClick={startNap}\r\n            ></motion.i>\r\n          ) : (\r\n            <motion.div\r\n              key=\"pause\"\r\n              {...clockTransition}\r\n              className={style.pause}\r\n            >\r\n              <motion.div\r\n                initial={false}\r\n                animate={{ opacity: down ? 1 : 0 }}\r\n                style={{ width: \"100%\", marginBottom: \"1rem\" }}\r\n              >\r\n                <Progress percent={percent} />\r\n              </motion.div>\r\n              <i\r\n                className=\"iconfont icon-pause\"\r\n                onTouchStart={() => setDown(true)}\r\n                onTouchEnd={() => setDown(false)}\r\n                onTouchCancel={() => setDown(false)}\r\n              ></i>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.tool_bar}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {state === FINISH ? (\r\n            <motion.div key=\"container\" {...fade} className={style.container}>\r\n              <div className={style.wrap} onClick={toggleNapClock}>\r\n                <i className=\"iconfont icon-clock\"></i>\r\n                <span>闹钟{napClock ? \"开\" : \"关\"}</span>\r\n              </div>\r\n              <div\r\n                className={style.wrap}\r\n                onClick={() => setClockTimeDelayOpen(true)}\r\n              >\r\n                <i className=\"iconfont icon-shalou\"></i>\r\n                <span>5分钟</span>\r\n              </div>\r\n              <div className={style.wrap} onClick={() => setSoundOpen(true)}>\r\n                <i className=\"iconfont icon-sound\"></i>\r\n                <span>{sound.name?.[\"zh-Hans\"]}</span>\r\n              </div>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div\r\n              key=\"sound\"\r\n              {...fade}\r\n              className={style.wrap}\r\n              onClick={() => setSoundOpen(true)}\r\n            >\r\n              <i className=\"iconfont icon-sound\"></i>\r\n              <span>{sound.name?.[\"zh-Hans\"]}</span>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <SoundDrawer visible={soundOpen} close={() => setSoundOpen(false)} />\r\n      <Drawer\r\n        visible={clockTimeDelayOpen}\r\n        close={closeClockTimeDelayDrawer}\r\n        contentStyle={{\r\n          borderTopLeftRadius: \"14px\",\r\n          borderTopRightRadius: \"14px\",\r\n          paddingBottom: \"1rem\",\r\n          height: \"40vh\",\r\n        }}\r\n        title={<p className={style.focus_mode_title}>闹钟延迟</p>}\r\n      >\r\n        {Array.from(Array(36), (_, i) => (i + 1) * 5).map((item) => (\r\n          <div\r\n            key={item}\r\n            className={style.delay_time_item}\r\n            onClick={() => handleSetNapClockDelay(item * 60)}\r\n          >\r\n            {napClockDelay === item * 60 && (\r\n              <i className={`iconfont icon-yes ${style.icon_choice}`}></i>\r\n            )}\r\n            {String(item).padStart(2, \"0\")} 分钟\r\n          </div>\r\n        ))}\r\n      </Drawer>\r\n    </motion.div>\r\n  );\r\n}\r\n","import React, {\r\n  useMemo,\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  useRef,\r\n} from \"react\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, AnimatePresence, useAnimation } from \"framer-motion\";\r\nimport {\r\n  pageTransition,\r\n  animateProps,\r\n  fade,\r\n  clockTransition,\r\n} from \"../../../constant/variants\";\r\nimport { startMusic, pauseMusic } from \"../../../store/music\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { PickerView } from \"antd-mobile\";\r\nimport SoundDrawer from \"../SoundDrawer\";\r\nimport FinishDrawer from \"../../../components/FinishDrawer\";\r\nimport { BREATHE } from \"../../../store/mode\";\r\nimport { imageFormat } from \"../../../constant\";\r\nexport default function Breathe() {\r\n  const { active, soundList } = useSelector(({ music }) => music);\r\n  const dispatch = useDispatch();\r\n\r\n  const audioRef = useRef(null);\r\n\r\n  const sound = soundList[active] || {};\r\n\r\n  const [breatheCount, setBreatheCount] = useState(0);\r\n  const [count, setCount] = useState(0);\r\n  const [play, setPlay] = useState(false);\r\n  const [soundOpen, setSoundOpen] = useState(false);\r\n  const [finishOpen, setFinishOpen] = useState(false);\r\n\r\n  const controls = useAnimation();\r\n  const [text, setText] = useState(\"放松身体\");\r\n  const data = useMemo(() => {\r\n    return Array.from(new Array(15), (_, i) => ({\r\n      label: String(i + 1).padStart(2, \"0\"),\r\n      value: i + 1,\r\n    }));\r\n  }, []);\r\n  const startBreathe = () => {\r\n    setCount(breatheCount);\r\n    dispatch(startMusic());\r\n    setPlay(true);\r\n  };\r\n  const endBreathe = () => {\r\n    setPlay(false);\r\n    dispatch(pauseMusic());\r\n    controls.stop();\r\n    setText(\"放松身体\");\r\n  };\r\n  const changeBreatheTime = (data) => {\r\n    setBreatheCount(data[0] * 12);\r\n  };\r\n  useEffect(() => {\r\n    if (play && count === 0) {\r\n      setFinishOpen(true);\r\n    }\r\n  }, [play, count]);\r\n\r\n  useEffect(() => {\r\n    let T;\r\n    if (count === 0) {\r\n      setPlay(false);\r\n      setText(\"放松身体\");\r\n    } else if (count % 2) {\r\n      setText(\"呼\");\r\n      controls.start({ scale: 1, transition: { duration: 4 } });\r\n      T = setTimeout(() => setCount((_) => _ - 1), 4500);\r\n    } else if (count % 2 === 0) {\r\n      setText(\"吸\");\r\n      controls.start({ scale: 2, transition: { duration: 4 } });\r\n      T = setTimeout(() => setCount((_) => _ - 1), 4500);\r\n    }\r\n    return () => clearTimeout(T);\r\n  }, [dispatch, count, controls]);\r\n  const finishDrawerClose = useCallback(() => {\r\n    setFinishOpen(false);\r\n  }, []);\r\n  return (\r\n    <motion.div\r\n      {...animateProps}\r\n      variants={pageTransition}\r\n      className={style.breathe}\r\n      style={{\r\n        backgroundImage: `url(${sound.cover_url}${imageFormat(600, 600)})`,\r\n      }}\r\n    >\r\n      <motion.div variants={fade} className={style.header}>\r\n        <Link to=\"/home\">\r\n          <i className=\"iconfont icon-close\"></i>\r\n        </Link>\r\n        <span>呼吸</span>\r\n        <i className=\"iconfont icon-close\"></i>\r\n      </motion.div>\r\n      <motion.div variants={clockTransition} className={style.clock}>\r\n        <motion.div\r\n          className={style.ball}\r\n          animate={{\r\n            scale: play ? 7 : 1,\r\n          }}\r\n          transition={{\r\n            duration: 0.5,\r\n          }}\r\n        ></motion.div>\r\n        <AnimatePresence initial={false} exitBeforeEnter>\r\n          {!play ? (\r\n            <motion.div key=\"clock\" {...fade} className={style.select_time}>\r\n              <PickerView\r\n                value={[breatheCount / 12]}\r\n                onChange={changeBreatheTime}\r\n                data={data}\r\n                cols={1}\r\n                indicatorStyle={{ opacity: 0 }}\r\n              />\r\n              <span className={style.minute}>分钟</span>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div {...fade} key=\"scale\" className={style.breathe_text}>\r\n              <motion.div className={style.breathe_ball} animate={controls}>\r\n                {text}\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.action}>\r\n        <div\r\n          className={play ? style.btn_transparent : style.btn}\r\n          onClick={() => {\r\n            if (play) endBreathe();\r\n            else startBreathe();\r\n          }}\r\n        >\r\n          {play ? \"结束\" : \" 开始呼吸\"}\r\n        </div>\r\n      </motion.div>\r\n      <motion.div variants={fade} className={style.tool_bar}>\r\n        <AnimatePresence exitBeforeEnter initial={false}>\r\n          {!play ? (\r\n            <motion.div key=\"breathe_mode\" {...fade} className={style.wrap}>\r\n              <div className={style.mode}>\r\n                <i className=\"iconfont icon-infinite\"></i>\r\n                <span>平衡呼吸</span>\r\n              </div>\r\n              <div className={style.mode} onClick={() => setSoundOpen(true)}>\r\n                <i className=\"iconfont icon-sound\"></i>\r\n                <span>{sound.name?.[\"zh-Hans\"]}</span>\r\n              </div>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div\r\n              key=\"one\"\r\n              {...fade}\r\n              className={style.mode}\r\n              onClick={() => setSoundOpen(true)}\r\n            >\r\n              <i className=\"iconfont icon-sound\"></i>\r\n              <span>{sound.name?.[\"zh-Hans\"]}</span>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n      <SoundDrawer visible={soundOpen} close={() => setSoundOpen(false)} />\r\n      <FinishDrawer\r\n        visible={finishOpen}\r\n        close={finishDrawerClose}\r\n        type={BREATHE}\r\n        duration={breatheCount / 12}\r\n      />\r\n      <audio src={undefined} ref={audioRef}></audio>\r\n    </motion.div>\r\n  );\r\n}\r\n/**\r\n * breathe页面有一个专门的audio标签\r\n */\r\n","import React, { memo } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { NAP, SLEEP } from \"../../store/mode\";\r\nimport { startTimer } from \"../../store/timer\";\r\nfunction ClockDrawer(props) {\r\n  const { visible, close } = props;\r\n  const { appMode } = useSelector(({ mode }) => mode);\r\n  const { napClockDelay } = useSelector(({ nap }) => nap);\r\n  const { sleepClockDelay } = useSelector(({ sleep }) => sleep);\r\n  const dispatch = useDispatch();\r\n  const delayTime = () => {\r\n    close();\r\n    if (appMode === SLEEP) {\r\n      dispatch(startTimer({ target: sleepClockDelay, mode: SLEEP }));\r\n    } else if (appMode === NAP) {\r\n      dispatch(startTimer({ target: napClockDelay, mode: NAP }));\r\n    }\r\n  };\r\n  const ele = (\r\n    <AnimatePresence initial={false} exitBeforeEnter>\r\n      {visible && (\r\n        <motion.div\r\n          initial={{\r\n            y: 100,\r\n            opacity: 0,\r\n          }}\r\n          animate={{\r\n            y: 0,\r\n            opacity: 1,\r\n          }}\r\n          exit={{\r\n            y: 100,\r\n            opacity: 0,\r\n          }}\r\n          transition={{ ease: \"easeInOut\" }}\r\n          className={style.clock_drawer}\r\n        >\r\n          <div className={style.wrap}>\r\n            <div className={style.circle}></div>\r\n            <div className={style.time}>\r\n              <p>16</p>\r\n              <p>22</p>\r\n            </div>\r\n          </div>\r\n          <div className={style.action}>\r\n            <div className={style.btn} onClick={delayTime}>\r\n              再睡一会儿\r\n            </div>\r\n            <div className={style.btn_default} onClick={close}>\r\n              起床\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n  return ReactDOM.createPortal(ele, document.body);\r\n}\r\nexport default memo(ClockDrawer);\r\n","import React, { memo, useRef, useEffect, useState, useCallback } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport style from \"./style.module.scss\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setMuseVisible, setMuseState } from \"../../../store/muse\";\r\nimport {\r\n  pageTransition,\r\n  animateProps,\r\n  clockTransition,\r\n  fade,\r\n} from \"../../../constant/variants\";\r\nimport { imageFormat } from \"../../../constant\";\r\nimport { FINISH, PAUSE, PLAY } from \"../../../store/timer\";\r\nimport SoundDrawer from \"../../Home/SoundDrawer\";\r\nfunction Muse(props) {\r\n  const { soundList, active: soundActive } = useSelector(({ music }) => music);\r\n  const { museVisible, museList, active: museActive, state } = useSelector(\r\n    ({ muse }) => muse\r\n  );\r\n  const dispatch = useDispatch();\r\n  const museAudioRef = useRef();\r\n  const [second, setSecond] = useState(0);\r\n  const [soundOpen, setSoundOpen] = useState(false);\r\n\r\n  const muse = museList[museActive] || {};\r\n  const sound = soundList[soundActive] || {};\r\n  const closeMuse = () => dispatch(setMuseVisible(false));\r\n\r\n  const handleStartMuse = () => {\r\n    window.startMuse = Date.now() - second * 1000;\r\n    dispatch(setMuseState(PLAY));\r\n  };\r\n  const handlePauseMuse = () => {\r\n    dispatch(setMuseState(PAUSE));\r\n  };\r\n  const handleEndMuse = () => {\r\n    setSecond(0);\r\n    dispatch(setMuseState(FINISH));\r\n    museAudioRef.current.currentTime = 0;\r\n  };\r\n  useEffect(() => {\r\n    let timer;\r\n    if (state === PLAY) {\r\n      museAudioRef.current.play();\r\n      timer = setInterval(() => {\r\n        setSecond(() => ~~((Date.now() - window.startMuse) / 1000));\r\n      }, 1000);\r\n    } else {\r\n      museAudioRef.current.pause();\r\n    }\r\n    return () => clearInterval(timer);\r\n  }, [state]);\r\n  useEffect(() => {\r\n    if (second >= 180) dispatch(setMuseState(FINISH));\r\n  }, [second, dispatch]);\r\n  useEffect(handleEndMuse, [museActive]);\r\n\r\n  const soundDrawerClose = useCallback(() => setSoundOpen(false), []);\r\n  const ele = (\r\n    <AnimatePresence initial={false}>\r\n      {museVisible && (\r\n        <motion.div\r\n          key=\"muse\"\r\n          {...animateProps}\r\n          variants={pageTransition}\r\n          className={style.muse}\r\n          style={{\r\n            backgroundImage: `url(${sound.cover_url}${imageFormat(800, 800)})`,\r\n          }}\r\n        >\r\n          <motion.header variants={fade} className={style.header}>\r\n            <i className=\"iconfont icon-close\" onClick={closeMuse}></i>\r\n            <p className={style.name}></p>\r\n            <i className=\"iconfont icon-close\"></i>\r\n          </motion.header>\r\n          <motion.div variants={clockTransition} className={style.main}>\r\n            <div className={style.muse_name}>{muse.name?.[\"zh-Hans\"]}</div>\r\n            <span>{second}</span>\r\n            <p className={style.select}>\r\n              {muse.duration_description?.[\"zh-Hans\"]}\r\n            </p>\r\n          </motion.div>\r\n          <motion.div variants={fade} className={style.action}>\r\n            <AnimatePresence initial={false} exitBeforeEnter>\r\n              {state === FINISH && (\r\n                <motion.i\r\n                  key=\"finish\"\r\n                  {...fade}\r\n                  className={`iconfont icon-play ${style.icon} ${style.play}`}\r\n                  onClick={handleStartMuse}\r\n                ></motion.i>\r\n              )}\r\n              {state === PLAY && (\r\n                <motion.i\r\n                  key=\"play\"\r\n                  {...fade}\r\n                  className={`iconfont icon-pause ${style.icon} ${style.pause}`}\r\n                  onClick={handlePauseMuse}\r\n                ></motion.i>\r\n              )}\r\n              {state === PAUSE && (\r\n                <motion.div key=\"pause\" className={style.group}>\r\n                  <motion.i\r\n                    initial={{ x: \"3.2rem\", opacity: 0 }}\r\n                    animate={{ x: 0, opacity: 1 }}\r\n                    exit={{ x: \"3.2rem\", opacity: 0 }}\r\n                    transition={{ ease: \"easeInOut\" }}\r\n                    className={`iconfont icon-play ${style.icon} ${style.play}`}\r\n                    onClick={handleStartMuse}\r\n                  ></motion.i>\r\n                  <motion.i\r\n                    initial={{ x: \"-3rem\", opacity: 0 }}\r\n                    animate={{ x: 0, opacity: 1 }}\r\n                    exit={{ x: \"-3rem\", opacity: 0 }}\r\n                    transition={{ ease: \"easeInOut\" }}\r\n                    className={`iconfont icon-end ${style.icon}  ${style.end}`}\r\n                    onClick={handleEndMuse}\r\n                  ></motion.i>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </motion.div>\r\n          <motion.footer variants={fade} className={style.footer}>\r\n            <div className={style.sound_change}>\r\n              <i className=\"iconfont icon-user\"></i>\r\n              <span>冥想声音</span>\r\n            </div>\r\n            <div\r\n              className={style.sound_change}\r\n              onClick={() => setSoundOpen(true)}\r\n            >\r\n              <i className=\"iconfont icon-sound\"></i>\r\n              <span>声音场景</span>\r\n            </div>\r\n          </motion.footer>\r\n        </motion.div>\r\n      )}\r\n      {state !== FINISH && !museVisible && (\r\n        <motion.div\r\n          initial={{\r\n            x: \"1rem\",\r\n            scale: 0,\r\n          }}\r\n          animate={{\r\n            x: 0,\r\n            scale: 1,\r\n          }}\r\n          exit={{\r\n            x: \"1rem\",\r\n            scale: 0,\r\n          }}\r\n          transition={{ ease: \"easeInOut\", duration: 0.4 }}\r\n          key=\"thumbnail\"\r\n          className={style.thumbnail}\r\n          onClick={() => dispatch(setMuseVisible(true))}\r\n        >\r\n          <i className=\"iconfont icon-sound\"></i>\r\n        </motion.div>\r\n      )}\r\n      )}\r\n      <SoundDrawer\r\n        key=\"sound-drawer\"\r\n        visible={soundOpen}\r\n        close={soundDrawerClose}\r\n      />\r\n      <audio\r\n        key=\"audio\"\r\n        src={muse.sections?.[0]?.demo_sound_url_mp3?.[\"zh\"]}\r\n        ref={museAudioRef}\r\n        muted\r\n        loop\r\n        className=\"audio\"\r\n      ></audio>\r\n    </AnimatePresence>\r\n  );\r\n  return ReactDom.createPortal(ele, document.body);\r\n}\r\nexport default memo(Muse);\r\n","import React, { useEffect, useRef, useState, useCallback } from \"react\";\r\nimport \"./app.css\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nimport { renderRoutes, routes } from \"./routes\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useMobileHackPlay } from \"./utils/userHooks\";\r\nimport { PLAY, tick, finishTimer } from \"./store/timer\";\r\nimport { FOCUS, SLEEP, NAP } from \"./store/mode\";\r\nimport { Toast } from \"antd-mobile\";\r\nimport { setFocusCount } from \"./store/focus\";\r\nimport ClockDrawer from \"./components/ClockDrawer\";\r\nimport TransitionSwitch from \"./components/TransitionSwitch\";\r\nimport { pauseMusic, setSoundList } from \"./store/music\";\r\nimport data from \"./utils/data.json\";\r\nimport Muse from \"./pages/Explore/Muse\";\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const { second, target, state } = useSelector(({ timer }) => timer);\r\n  const { canPlay, active, volume, soundList } = useSelector(\r\n    ({ music }) => music\r\n  );\r\n  const { appMode } = useSelector(({ mode }) => mode);\r\n  const sound = soundList[active] || {};\r\n  const [finishMusic, setFinishMusic] = useState(\"notification\");\r\n  const [clockDrawerOpen, setClockDrawerOpen] = useState(false);\r\n  const audioRef = useRef(null);\r\n  const finishAudioRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    if (!window.Notification) {\r\n      console.error(\"不支持Notification通知\");\r\n    } else if (Notification.permission === \"default\") {\r\n      Notification.requestPermission();\r\n    }\r\n  }, []);\r\n\r\n  //tick timer effect\r\n  useEffect(() => {\r\n    let timer;\r\n    if (state === PLAY) timer = setInterval(() => dispatch(tick()), 1000);\r\n    return () => clearInterval(timer);\r\n  }, [dispatch, state]);\r\n\r\n  //tomato settings\r\n  useEffect(() => {\r\n    if (second >= target) {\r\n      dispatch(finishTimer());\r\n      if (window.Notification) new Notification(\"计时结束啦\");\r\n      finishAudioRef.current.play();\r\n      if (appMode === FOCUS) dispatch(setFocusCount());\r\n      if (appMode === SLEEP || appMode === NAP) setClockDrawerOpen(true);\r\n    }\r\n    if (appMode === SLEEP || appMode === NAP) {\r\n      //如果是上述类型,切换finishAudio为clock.mp3\r\n      setFinishMusic(\"clock\");\r\n    } else if (!!appMode) {\r\n      setFinishMusic(\"notification\");\r\n    }\r\n  }, [appMode, dispatch, target, second]);\r\n\r\n  useMobileHackPlay(); //移动端播放hack\r\n\r\n  useEffect(() => {\r\n    if (canPlay) audioRef.current.play();\r\n    else audioRef.current.pause();\r\n  }, [canPlay, sound]);\r\n\r\n  useEffect(() => {\r\n    audioRef.current.volume = volume;\r\n  }, [volume]);\r\n\r\n  const closeClockDrawer = useCallback(() => {\r\n    setClockDrawerOpen(false);\r\n    finishAudioRef.current.currentTime = 0;\r\n    finishAudioRef.current.pause();\r\n  }, []);\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      //请求音乐\r\n      if (!soundList.length) dispatch(setSoundList(data.slice(0, 20)));\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [dispatch, soundList]);\r\n  return (\r\n    <Router>\r\n      <TransitionSwitch>{renderRoutes(routes)}</TransitionSwitch>\r\n      <audio\r\n        ref={finishAudioRef}\r\n        src={`/static/audio/${finishMusic}.mp3`}\r\n        className=\"audio\"\r\n        muted\r\n      ></audio>\r\n      <audio\r\n        onError={() => Toast.fail(\"音频加载失败\", 2, null, false)}\r\n        onPause={() => dispatch(pauseMusic())}\r\n        loop\r\n        ref={audioRef}\r\n        src={sound.demo_sound_url}\r\n        className=\"audio\"\r\n        muted\r\n      ></audio>\r\n      <ClockDrawer visible={clockDrawerOpen} close={closeClockDrawer} />\r\n      <Muse />\r\n    </Router>\r\n  );\r\n};\r\nexport default App;\r\n/**\r\n * 自己实现无缝轮播图\r\n */\r\n","//type\r\nexport const SET_FBREATHE_TIME = \"SET_FBREATHE_TIME\";\r\n\r\n//action\r\nexport const setBreatheTime = (payload) => {\r\n  return {\r\n    type: SET_FBREATHE_TIME,\r\n    payload,\r\n  };\r\n};\r\nconst init = {\r\n  breatheTime: 0,\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_FBREATHE_TIME:\r\n      return { ...state, breatheTime: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","//type\r\nexport const SET_SOUND_LIST = \"SET_SOUND_LIST\";\r\n\r\n//action\r\nexport const setSoundList = (payload) => {\r\n  console.log(\"mock data\");\r\n  return {\r\n    type: SET_SOUND_LIST,\r\n    payload,\r\n  };\r\n};\r\n\r\nconst init = {\r\n  soundList: [],\r\n};\r\nexport const reducer = (state = init, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_SOUND_LIST:\r\n      return { ...state, soundList: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as focus } from \"./focus\";\r\nimport { reducer as music } from \"./music\";\r\nimport { reducer as timer } from \"./timer\";\r\nimport { reducer as mode } from \"./mode\";\r\nimport { reducer as sleep } from \"./sleep\";\r\nimport { reducer as nap } from \"./nap\";\r\nimport { reducer as breathe } from \"./breathe\";\r\nimport { reducer as data } from \"./data\";\r\nimport { reducer as muse } from \"./muse\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\nconst rootReducer = combineReducers({\r\n  focus,\r\n  music,\r\n  timer,\r\n  mode,\r\n  sleep,\r\n  nap,\r\n  breathe,\r\n  data,\r\n  muse,\r\n});\r\nconst store = createStore(rootReducer, enhancer);\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__mlRWX\",\"action\":\"style_action__GRi1a\",\"flex_center\":\"style_flex_center__5saMe\",\"play\":\"style_play__9CktB\",\"mode_list\":\"style_mode_list__36la8\",\"absolute_center\":\"style_absolute_center__3PV-X\",\"absolute_center_y\":\"style_absolute_center_y__1Qsdn\",\"absolute_center_x\":\"style_absolute_center_x__3aC6Q\",\"image_center\":\"style_image_center__1sDDD\",\"greet\":\"style_greet__1na4T\",\"hello\":\"style_hello__I0Uja\",\"text\":\"style_text__2-fYX\",\"play_music\":\"style_play_music__VRVi4\",\"active\":\"style_active__3p4lp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__3hZYk\",\"sound_drawer\":\"style_sound_drawer__Xb37w\",\"drawer\":\"style_drawer__24Gc7\",\"flex_center\":\"style_flex_center__3W1dW\",\"music_bar\":\"style_music_bar__1jAab\",\"absolute_center\":\"style_absolute_center__1oSEm\",\"absolute_center_y\":\"style_absolute_center_y__kMlFP\",\"absolute_center_x\":\"style_absolute_center_x__2q9Yd\",\"image_center\":\"style_image_center__3a-We\",\"sound_list\":\"style_sound_list__Inx9v\",\"title\":\"style_title__3cUA5\",\"icon\":\"style_icon__2uM2F\",\"text\":\"style_text__1TL8l\",\"sound_item\":\"style_sound_item__32bsC\",\"wrap\":\"style_wrap__38qVY\",\"range\":\"style_range__250-Z\",\"page_info\":\"style_page_info__1U5SD\",\"navbar\":\"style_navbar__3yfVu\",\"active\":\"style_active__wtM8U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__2RHvv\",\"sound_drawer\":\"style_sound_drawer__2hScA\",\"flex_center\":\"style_flex_center__27etq\",\"music_bar\":\"style_music_bar__2lhdP\",\"absolute_center\":\"style_absolute_center__3eL3q\",\"absolute_center_y\":\"style_absolute_center_y__4HEjx\",\"absolute_center_x\":\"style_absolute_center_x__KKDxi\",\"image_center\":\"style_image_center__-oyDg\",\"sound_list\":\"style_sound_list__1345Y\",\"title\":\"style_title__1olsI\",\"icon\":\"style_icon__2j1q9\",\"text\":\"style_text__2oVb9\",\"sound_item\":\"style_sound_item__1EjbM\",\"wrap\":\"style_wrap__2l5hg\",\"range\":\"style_range__1cj7D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__1R-8o\",\"sound_drawer\":\"style_sound_drawer__3o48W\",\"sound_detail\":\"style_sound_detail__R5o4L\",\"mask\":\"style_mask__1vtuG\",\"flex_center\":\"style_flex_center__2h_rP\",\"music_bar\":\"style_music_bar__57g2C\",\"header\":\"style_header__1gERx\",\"btn\":\"style_btn__3qHSg\",\"absolute_center\":\"style_absolute_center__1bOcM\",\"absolute_center_y\":\"style_absolute_center_y__2sEHP\",\"absolute_center_x\":\"style_absolute_center_x__qo458\",\"image_center\":\"style_image_center__3AB5P\",\"sound_list\":\"style_sound_list__1Fizk\",\"title\":\"style_title___DOyG\",\"icon\":\"style_icon__2SG_Q\",\"text\":\"style_text__NZ4jw\",\"sound_item\":\"style_sound_item__3oNeT\",\"wrap\":\"style_wrap__12CE9\",\"range\":\"style_range__36lyr\",\"cover\":\"style_cover__3fg2H\",\"description\":\"style_description__1vaKj\",\"content\":\"style_content__3KesA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__1JotG\",\"clock_drawer\":\"style_clock_drawer__RC9A2\",\"flex_center\":\"style_flex_center__3m2N8\",\"wrap\":\"style_wrap__oQnKC\",\"time\":\"style_time__23zlK\",\"action\":\"style_action__1rEoh\",\"absolute_center\":\"style_absolute_center__3YITJ\",\"absolute_center_y\":\"style_absolute_center_y__KohhK\",\"absolute_center_x\":\"style_absolute_center_x__39eCf\",\"image_center\":\"style_image_center__19Ax_\",\"circle\":\"style_circle__2q8vT\",\"rotateInfinity\":\"style_rotateInfinity__3xszT\",\"btn\":\"style_btn__1AbbZ\",\"btn_default\":\"style_btn_default__1BJlf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__mpJ47\",\"explore\":\"style_explore__1IpJR\",\"flex_center\":\"style_flex_center__3zQMp\",\"nav_box_item\":\"style_nav_box_item__23CK8\",\"name\":\"style_name__2tlWr\",\"sound_list_item\":\"style_sound_list_item__3SWRU\",\"absolute_center\":\"style_absolute_center__UM3g8\",\"absolute_center_y\":\"style_absolute_center_y__3QDF0\",\"absolute_center_x\":\"style_absolute_center_x__3EjsO\",\"image_center\":\"style_image_center__3PmZ2\",\"sleep_box\":\"style_sleep_box__3gHWs\",\"padding\":\"style_padding__1MLct\",\"page_info\":\"style_page_info__1IerX\",\"sleep_list\":\"style_sleep_list__30ypo\",\"muse_list\":\"style_muse_list__21wTf\",\"article_list\":\"style_article_list__3-Gxv\",\"content_wrap\":\"style_content_wrap__30AOd\",\"banner_item\":\"style_banner_item___g0DT\",\"banner_text\":\"style_banner_text__1psYP\",\"nav_box\":\"style_nav_box__t_HU4\",\"sound_list\":\"style_sound_list__pLNty\",\"sleep_list_item\":\"style_sleep_list_item__3rXTq\",\"muse_list_item\":\"style_muse_list_item__1qXc0\",\"infos\":\"style_infos__2M2La\",\"day_image_wrap\":\"style_day_image_wrap__3zj2g\",\"img_container\":\"style_img_container__2W_5P\",\"day_title\":\"style_day_title__nWuJa\",\"poetry\":\"style_poetry__3LUMY\",\"author\":\"style_author__2jV_U\",\"day_time\":\"style_day_time__1091i\",\"day\":\"style_day__1u9OS\",\"month\":\"style_month__33XpR\",\"article\":\"style_article__30vLf\",\"title\":\"style_title__3lq1H\",\"title_type\":\"style_title_type__2TcLJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"style_full_screen__sTL0w\",\"flex_center\":\"style_flex_center__3SHaN\",\"absolute_center\":\"style_absolute_center__1yV3L\",\"absolute_center_y\":\"style_absolute_center_y__9ZYrU\",\"absolute_center_x\":\"style_absolute_center_x__3-hJ6\",\"image_center\":\"style_image_center__3uVu7\",\"image_transition\":\"style_image_transition__uBNJg\",\"image\":\"style_image__3VjuI\",\"mask\":\"style_mask__gnmTy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"style_list__3s6dQ\",\"item\":\"style_item__3wWMY\",\"cover\":\"style_cover__B8oAe\"};"],"sourceRoot":""}